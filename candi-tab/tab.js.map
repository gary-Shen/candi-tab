{"version":3,"file":"tab.js","mappings":"urEASMA,EAAc,IAAIC,EAAAA,YAgBlBC,GAAOC,EAAAA,EAAAA,IAAOC,KAAV,+DAAGD,CAAH,oBAIV,SAASE,IACP,OAAqCC,EAAAA,EAAAA,YAAWC,EAAAA,GAAxCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,eAClB,KAAmCC,EAAAA,EAAAA,WAAS,GAA5C,GAAOC,EAAP,KAAiBC,EAAjB,KACA,KAAgDF,EAAAA,EAAAA,UAAS,IAAzD,GAAOG,EAAP,KAAyBC,EAAzB,KACMC,EAAUC,IAAAA,MAAQR,GACrBS,IAAI,SACJC,KAAI,SAACC,GAAD,OAAUA,EAAKC,UACnBC,QAGGC,GAAqBC,EAAAA,EAAAA,cACzB,SAACH,GACC,GAAII,KAAKC,MAAQC,OAAOC,YAAc,IACpCC,QAAQC,IAAI,kCADd,CAIA,IAAMC,EAAWtB,EAASuB,MAAMb,KAAI,SAACC,EAAMa,GACzC,cAAYb,GAAZ,IAAkBC,OAAQA,EAAOY,QAG7BC,EAAc,EAAH,KACZzB,GADY,IAEfuB,MAAOD,IAGTG,EAAYC,WAAY,IAAIV,MAAOW,UACnCC,YAAW,WACTC,SAASC,cAAc,IAAIC,YAAY,kBACtC,KAEH9B,EAAewB,MAEjB,CAACzB,EAAUC,IAOP+B,EAA4B,SAACR,GACjClB,EAAoBkB,IAGtB,IAAKxB,EACH,OACE,uBAAKiC,UAAWC,EAAAA,EAAAA,SACd,gBAAC,IAAD,OAKN,IAAMX,EAAQvB,EAASuB,MAAMb,KAAI,SAACC,EAAMa,GACtC,OACE,uBACEW,IAAKxB,EAAKyB,GACV,YAAWzB,EAAKC,OAChBqB,UAAWI,GAAAA,CAAWH,EAAAA,EAAAA,UAAD,KAClBA,EAAAA,EAAAA,YAAqB7B,IAAqBmB,KAG7C,gBAACc,EAAA,EAAD,CACEnC,SAAUA,EACVH,SAAUA,EACVC,eAAgBA,EAChBsC,MAAO5B,EACPa,MAAOA,EACPgB,YAAaR,QAMrB,OACE,2BACEC,UAAWI,GAAAA,CAAWH,EAAAA,EAAAA,KAAa,CACjC/B,SAAAA,KAGF,8FC3GN,ycD2GM,+JAUA,gBAACsC,EAAA,EAAD,CAAQC,OArDiB,WAC3BtC,GAAgBD,IAoDwBA,SAAUA,IAChD,gBAACT,EAAD,CACEkB,OAAQL,EACRoC,gBAAgB,eAChBC,YAAazC,EACb0C,YAAa1C,EACb2C,YAAa3C,EACb4C,eAAgBjC,EAChBmB,UAAU,SACVe,KAAM,GACNC,UAAW,EACXC,MAAO,MAEN3B,IAMT,SAAS4B,EAAUC,GACjB,UAAO,SAAsBC,GAAO,MAClC,KAAsCC,EAAAA,EAAAA,GAAW,eAAjD,GAAOC,EAAP,KAAoBC,EAApB,KACA,KAAmCC,EAAAA,EAAAA,KAAnC,GAAOzD,EAAP,KAAiBC,EAAjB,MAEAyD,EAAAA,EAAAA,YAAU,WACRxC,OAAOC,aAAc,IAAIH,MAAOW,YAC/B,IAEH,IAAMd,GAAQ8C,EAAAA,EAAAA,UAAQ,WACpB,MAAO,CACL1D,eAAAA,EACAD,SAAAA,EACAuD,YAAAA,EACAK,kBAAmBJ,KAEpB,CAACvD,EAAgBD,EAAUuD,EAAaC,KAE3CE,EAAAA,EAAAA,YAAU,WACR,GAAIH,EAOF,OANAM,EAAAA,GACE,IAAIC,EAAAA,EAAQ,CACVC,KAAMR,KAIH,WACLM,EAAAA,QAGH,CAACN,IAEJ,IAAMS,GAAiBC,EAAAA,EAAAA,aAAYJ,EAAAA,IACnC,KAAyD3D,EAAAA,EAAAA,WAAS,GAAlE,GAAOgE,EAAP,KAA4BC,EAA5B,KACA,KAAqDjE,EAAAA,EAAAA,WAAS,GAA9D,GAAOkE,EAAP,KAA0BC,EAA1B,MACAX,EAAAA,EAAAA,YAAU,WACJM,EAAeM,WACjBH,GAA0B,KAE3B,CAACH,EAAeM,aACnBZ,EAAAA,EAAAA,YAAU,WACJM,EAAeO,SACjBF,GAAwB,KAEzB,CAACL,EAAeO,UAEnB,IAAMC,EAAShE,IAAAA,IAAMR,EAAN,UACTyE,GAAWC,EAAAA,EAAAA,UAAS,CAAC,OAAQF,GAASX,EAAAA,GAAsB,CAChEc,UAAWH,IAELI,EAAoBH,EAApBG,KAAMC,EAAcJ,EAAdI,UACRC,GAAkBC,EAAAA,EAAAA,GAAiBvE,IAAAA,IAAMoE,EAAM,SAG/CI,GAAmBjE,EAAAA,EAAAA,cAAY,WAC9Bf,IAID8E,GAAmBA,EAAgBpD,UAAY1B,EAAS0B,WAI5DsC,EAAeiB,OAAO,CACpBC,QAAS1E,IAAAA,IAAMR,EAAU,UACzBmF,QAAQ,EACRC,YAAaC,EAAAA,GACbC,MAAO,EAAF,GACFC,EAAAA,GAAY,CACXC,QAASC,KAAKC,UAAU1F,UAI7B,CAACA,EAAU8E,EAAiBd,KAE/BN,EAAAA,EAAAA,YAAU,WACgB,YAApBe,EAASkB,SAAwBb,MAAAA,OAAA,EAAAA,EAAiBpD,YAAY1B,MAAAA,OAA7B,EAA6BA,EAAU0B,YAC1EzB,EAAe6E,KAGhB,CAACL,EAASkB,OAAQ3F,MAAAA,OAAlB,EAAkBA,EAAU0B,UAAWoD,KAE1CpB,EAAAA,EAAAA,YAAU,WAGR,OAFA7B,SAAS+D,iBAAiB,cAAeZ,GAElC,WACLnD,SAASgE,oBAAoB,cAAeb,MAE7C,CAACA,IAEJ,IAAMc,EAAa,CACjB5C,MAAO,QAGT,OACE,gBAAC,aAAD,CAA0BrC,MAAOA,GAC/B,gBAACuC,EAASC,GACV,gBAAC0C,EAAA,EAAD,CACEC,SAAS,eACTC,MAAO,CAAEC,MAAO,OAAQC,MAAO,GAAIC,OAAQ,IAC3CC,kBAAkB,SAElB,gBAACC,EAAA,EAAD,CAAOC,UAAQ,EAACN,MAAOH,EAAYU,KAAMxC,EAAea,WAAaA,GACnE,gBAACyB,EAAA,OAAD,KACE,gBAAC,IAAD,QAGJ,gBAACA,EAAA,EAAD,CACEC,UAAQ,EACRN,MAAOH,EACPW,GAAG,UACHC,MAAO,IACPF,KAAMtC,EACNyC,QAAS,kBAAMxC,GAA0B,KAEzC,gBAACmC,EAAA,OAAD,wBAEF,gBAACA,EAAA,EAAD,CACEC,UAAQ,EACRN,MAAOH,EACPW,GAAG,SACHC,MAAO,IACPF,KAAMpC,EACNuC,QAAS,kBAAMtC,GAAwB,KAEvC,gBAACiC,EAAA,SAAD,CAAcM,aAAa,GAA3B,iBACA,gBAACN,EAAA,OAAD,eAAatC,EAAe6C,aAA5B,aAAa,EAAsBC,cA7H7C,wZACwCxD,EAAAA,EACHG,EAAAA,EA6BZQ,EAAAA,YAeNS,EAAAA,aAuFrB,SAASqC,EAAUC,GACjB,OAAO,SAAsB3D,GAC3B,OACE,gBAAC,EAAA4D,oBAAD,CAAqBC,OAAQ1H,GAC3B,gBAACwH,EAAc3D,GACf,gBAAC,EAAA8D,mBAAD,CAAoBC,eAAe,M,EAtPlCvH,EAAAA,iL,OA4PMwH,EAAAA,EAAAA,GAAIN,EAAU5D,EAAUtD,KAAvC,U,sGAhRML,EAAAA,cAAAA,8D,WAgBAE,EAAAA,OAAAA,8D,WAIGG,EAAAA,MAAAA,8D,WA2GAsD,EAAAA,YAAAA,8D,WAsIA4D,EAAAA,YAAAA,8D,uZE9QIO,EAAQ,CAAC,UAAW,YAAa,UAAW,SAAU,UAAW,OAAQ,QAAS,S,4FAAlFA,EAAAA,QAAAA,iE,yUCAA/B,EAAY,0BACZF,EAAmB,6D,6FADnBE,EAAAA,YAAAA,mE,WACAF,EAAAA,mBAAAA,mE,WACe,cAAfkC,eAAAA,mE,WACiB,gBAAjBC,iBAAAA,mE,WACQ,CAAC,UAAW,YAAa,UAAW,SAAU,UAAW,OAAQ,QAAS,QAAlFF,QAAAA,qE,sUCFPtH,EAAW,G,GAEFyH,EAAAA,EAAAA,eAAczH,GAA7B,U,sGAFMA,EAAAA,WAAAA,mF,mQCAC,SAAS0H,EAAK1H,GACnB,OAAO2H,EAAAA,EAAAA,GAAI,WAAY3H,GAGlB,SAAS4H,IACd,OAAOnH,EAAAA,EAAAA,GAAI,Y,qRALGiH,EAAAA,OAAAA,yE,WAIAE,EAAAA,OAAAA,2E,2VCJVC,KAAcC,SAAUA,OAAOC,SAE9B,SAAStH,EAAI0B,GAClB,OAAO,IAAI6F,SAAQ,SAACC,EAASC,GAC3B,IACML,EACFC,OAAOC,QAAQI,MAAM1H,KAAI,SAAC2H,GACxBH,EAAQzH,IAAAA,IAAM4H,EAAOjG,OAGvB8F,EAAQxC,KAAK4C,MAAMC,aAAaC,QAAQpG,KAE1C,MAAOqG,GACPN,EAAOM,OAKN,SAASb,EAAIxF,EAAKsG,GACvB,OAAO,IAAIT,SAAQ,SAACC,EAASC,GAC3B,GAAIL,EACFC,OAAOC,QAAQI,MAAMR,I,sHAArB,IAA4BxF,EAAMsG,IAAW,WAC3CR,GAAQ,WAGV,IACEK,aAAaI,QAAQvG,EAAKsD,KAAKC,UAAU+C,IACzCR,GAAQ,GACR,MAAOO,GACPN,EAAOM,Q,6FA7BTX,EAAAA,WAAAA,wE,WAEUpH,EAAAA,MAAAA,wE,WAgBAkH,EAAAA,MAAAA,0E,gqCCdVgB,EAAkBC,EAAQ,MAE1BC,GAASC,EAAAA,EAAAA,QAAO,QAAPA,EAAgB,SAACC,GAAD,OAC7BA,EAAOrI,KAAI,SAAC6B,GACV,IAAMyG,EAAQ,CACZ5G,IAAI6G,EAAAA,EAAAA,MAGAC,EAAU,SAACC,GACf,IAAMC,EAAS,CACbhH,IAAI6G,EAAAA,EAAAA,MAGN,OAAKE,EAAK/G,GAOH+G,EANL,OACKA,GACAC,IAOT,OAAK7G,EAAMH,GAOX,OACKG,GADL,IAEE8G,QAAS9G,EAAM8G,QAAQ3I,IAAIwI,KAR3B,SACK3G,GACAyG,GAFL,IAGEK,QAAS9G,EAAM8G,QAAQ3I,IAAIwI,WAUpB,SAASzF,IACtB,I,IAAA,G,GAAgCvD,EAAAA,EAAAA,UAAS,M,EAAzC,E,8zBAAOF,EAAP,KAAiBsJ,EAAjB,KAoBA,OAlBA5F,EAAAA,EAAAA,YAAU,YACRkE,EAAAA,EAAAA,KAAO2B,MAAK,SAACC,GACX,IAAM/H,EAAcoH,EAAO,EAAD,KAAMF,GAAoBa,IACpDF,EAAY7H,QAEb,IAaI,CAACzB,EAXe,SAACyB,GACtB,IAAMgI,EAAS,EAAH,GACPhI,GAGL6H,GAAY,WACV,OAAOG,MAET/B,EAAAA,EAAAA,GAAK+B,K,EAlBehG,EAAAA,yD,6FAnClBoF,EAAAA,SAAAA,4E,WAmCkBpF,EAAAA,cAAAA,8E,mQCvCT,SAASH,EAAWnB,GACjC,I,IAAA,G,GAA0BjC,EAAAA,EAAAA,Y,EAA1B,E,8zBAAOW,EAAP,KAAc6I,EAAd,KAyBA,OAvBAhG,EAAAA,EAAAA,YAAU,WACR,IACEqE,EAAAA,EAAY5F,GAAKoH,MAAK,SAACC,GACrBE,EAASF,MAEX,MAAOhB,GACPpH,QAAQuI,KAAKnB,GACbkB,OAASE,MAEV,CAACzH,IAcG,CAACtB,GAZaE,EAAAA,EAAAA,cACnB,SAAC0H,GACC,IACEiB,EAASjB,GACTV,EAAAA,EAAY5F,EAAKsG,GACjB,MAAOD,GACPpH,QAAQuI,KAAKnB,MAGjB,CAACrG,K,8MAvBmBmB,EAAAA,wE,4FAAAA,EAAAA,aAAAA,4E,kvECalBuG,EAAc,SAAC,GAA6C,IAA3ChJ,EAA2C,EAA3CA,MAAOiJ,EAAoC,EAApCA,SAAU7H,EAA0B,EAA1BA,UAAcoB,EAAY,OAC1D0G,EAAoB,SAACC,GACrBF,GACFA,EAAyB,WAAhB,EAAOE,GAAoBA,EAAKC,OAAOpJ,MAAQmJ,IAI5D,OACE,2BACE,gBAACE,EAAA,EAAD,GAAMjI,UAAWI,GAAAA,CCzBD,cDyBwBJ,GAAYkI,iBAAiB,SAAS/H,GAAG,4BAA+BiB,GAC9G,gBAAC+G,EAAA,EAAD,CAAKC,SAAS,SAASC,MAAM,YAC3B,gBAACC,EAAA,EAAD,CAAatI,UAAU,OAAO,aAAW,gBACtCqF,EAAAA,EAAAA,KAAU,SAAA0C,GAAI,OACb,gBAACQ,EAAA,EAAD,CAAQrI,IAAK6H,EAAMS,QAAST,EAAMU,QAAS,kBAAMX,EAAkBC,WAIzE,gBAACI,EAAA,EAAD,CAAKC,SAAS,SAASC,MAAM,SAC3B,gBAACK,EAAA,UAAD,CACEX,KAAK,QACLY,aAAa,UACbN,MAAM,oBACNzJ,MAAOA,EACPiJ,SAAUC,QAQhBc,EAAW,SAAC,GAAuB,I,IAArBjG,EAAqB,EAArBA,KAAMkF,EAAe,EAAfA,SACxB,G,GAA+B5J,EAAAA,EAAAA,YAAW0E,EAAKkG,M,EAA/C,E,8zBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAiB,SAAAC,GAAK,OAAI,SAACC,GAC/BrB,EAASoB,EAATpB,CAAgBqB,EAAElB,OAASkB,EAAElB,OAAOpJ,MAAQsK,KAsBxCC,EAAmB,SAAChJ,GAAD,OAAQ,WAC/B0H,EAAS,OAATA,CACEuB,GAAAA,CACEC,GAAAA,CAAM,QACNxC,GAAAA,CAAO,OAAPA,EAAe,SAAAyC,GAAK,OAAKA,GAAS,IAAIC,QAAO,SAAA7K,GAAI,OAAIA,EAAKyB,KAAOA,QAFnEiJ,CAGEzG,MAIA6G,EACJ,gBAACC,EAAA,EAAD,KACE,gBAACA,EAAA,OAAD,KACE,gBAAC7B,EAAD,CAAaC,SAAUmB,EAAe,SAAUpK,MAAO+D,EAAKqB,UAK5D0F,EAAcrE,EAAAA,EAAAA,SAAe1C,EAAKqB,OAAS,GAAK,CACpD2F,gBAAiBhH,EAAKqB,OAGxB,OACE,gBAAC0E,EAAA,EAAD,KACE,gBAACA,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,SACrC,gBAAClB,EAAA,QAAD,aACA,gBAACA,EAAA,UAAD,CACEX,KAAK,QACL8B,YAAY,sBACZC,WAAS,EACTjC,SAAUmB,EAAe,SACzBpK,MAAO+D,EAAK0F,SAIhB,gBAACK,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,UACrC,gBAAClB,EAAA,QAAD,CACEX,KAAK,WACLgC,QAASjB,EACTjB,SAzDmB,WACpBiB,GAIHjB,EAAS,OAATA,MAAiBF,GACjBE,EAAS,MAATA,CAAgBlF,EAAKkG,KAAOrK,GAAAA,CAAImE,EAAKkG,KAAM,CAAC,EAAG,QAAU,MAJzDhB,EAAS,OAATA,CAAiBlF,EAAKqH,IAAM,CAAC,EAAD,CAAG7J,IAAI6G,EAAAA,EAAAA,MAAWiD,GAAAA,CAAKtH,EAAM,CAAC,QAAS,UAAa,IAChFkF,EAAS,MAATA,MAAgBF,IAKlBoB,GAAcD,IAkDRoB,MAAM,sBAIRpB,GACA,gBAACJ,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,OACrC,gBAAClB,EAAA,QAAD,aACA,gBAACyB,EAAA,EAAD,CAAYnK,UAAU,QACpB,gBAACoK,EAAA,EAAD,CAAgBC,QAAQ,QAAQC,UAAU,SAASC,QAASf,GAC1D,gBAACjB,EAAA,EAAD,CAAQC,QAASnD,EAAAA,EAAAA,SAAe1C,EAAKqB,OAASrB,EAAKqB,MAAQ,QAAShE,UCxHnC,mBDwH+DgE,MAAO0F,KAGzG,gBAAChB,EAAA,UAAD,CACEX,KAAK,QACL8B,YAAY,sBACZhC,SAAUmB,EAAe,OACzBpK,MAAO+D,EAAKqH,QAMnBlB,GACC,gBAACJ,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,OACrC,gBAAClB,EAAA,QAAD,cAEE/F,EAAKkG,MAAQlG,EAAKkG,KAAKpK,KAAI,SAACC,EAAMa,GAAP,OACzB,gBAAC4K,EAAA,EAAD,CAAYnK,UAAU,OAAOE,IAAKxB,EAAKyB,IACrC,gBAACoI,EAAA,EAAD,CAAQiC,KAAK,KAAKhC,QAAQ,YAAYxI,UC3IuB,mBD2IKyI,QAASU,EAAiBzK,EAAKyB,KAC/F,gBAACsK,EAAA,EAAD,CAAUC,KAAK,IACb,gBAACC,EAAA,EAAD,QAGJ,gBAACjC,EAAA,UAAD,CACEX,KAAK,QACLF,SAAUmB,EAAe,QAAD,OAASzJ,EAAT,YACxBX,MAAOF,EAAK2J,QAEd,gBAACK,EAAA,UAAD,CACEX,KAAK,QACLF,SAAUmB,EAAe,QAAD,OAASzJ,EAAT,UACxBX,MAAOF,EAAKsL,MAEd,gBAACzB,EAAA,EAAD,CAAQiC,KAAK,KAAKhC,QAAQ,SAASC,QAASU,EAAiBzK,EAAKyB,KAAlE,cAMN,uBAAKH,UAAU,gBACb,gBAACuI,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAjGd,WACpBZ,EAAS,OAATA,CACEuB,GAAAA,CACEC,GAAAA,CAAM,QACNxC,GAAAA,CAAO,OAAPA,EAAe,SAAAyC,GAAK,OAAKA,GAAS,IAAIsB,OAAO,CAAC,CAAEzK,IAAI6G,EAAAA,EAAAA,KAAQqB,MAAO,WAAY2B,IAAK,SAFtFZ,CAGEzG,KA4FsD6H,KAAK,MAAvD,cAMN,gBAAC9B,EAAA,QAAD,CACE1I,UAAU,OACV4J,UAAU,eAEV,gBAAClB,EAAA,QAAD,oBACA,gBAACA,EAAA,UAAD,CAAc9J,MAAO+D,EAAKQ,YAAa0E,SAAUmB,EAAe,eAAgB6B,GAAG,WAAWC,KAAM,O,EA7HtGlC,EAAAA,iDAmIN,I,IAAMmC,EAAY,SAAC,GAAuB,IAArBpI,EAAqB,EAArBA,KAAMkF,EAAe,EAAfA,SAKzB,OACE,gBAACa,EAAA,EAAD,KACE,gBAACA,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,SACrC,gBAAClB,EAAA,QAAD,cACA,gBAACA,EAAA,UAAD,CACEX,KAAK,QACL8B,YAAY,cACZC,WAAS,EACTjC,UAAyB,QAZD,SAACqB,GAC/BrB,EAW+B,QAX/BA,CAAgBqB,EAAElB,OAAOpJ,SAYnBA,MAAO+D,EAAK0F,WAOhB2C,EAAU,CACdC,KAAMrC,EACNvI,MAAO0K,GAGM,SAASG,EAAT,GAAsD,IAAjCvI,EAAiC,EAAjCA,KAAMoF,EAA2B,EAA3BA,KAAMF,EAAqB,EAArBA,SAAazG,EAAQ,OAC7D+J,EAAWH,EAAQI,GAAAA,CAAWrD,IACpC,OACE,gBAACsD,EAAA,EACKjK,EAEJ,gBAACiK,EAAA,SAAD,CAAc1G,aAAW,GACtBhC,EAAK0F,OAAS,YAEjB,gBAACgD,EAAA,OAAD,KACE,gBAACF,EAAD,CAAUxI,KAAMA,EAAMkF,SAAUA,KAElC,gBAACwD,EAAA,SAAD,KACE,gBAAC9C,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAASrH,EAAMsD,SAA3C,SACA,gBAAC6D,EAAA,EAAD,CAAQE,QAASrH,EAAMkK,QAAvB,W,6FA1MF1D,EAAAA,cAAAA,yF,WA+BAgB,EAAAA,WAAAA,yF,WAmIAmC,EAAAA,YAAAA,yF,WAqBAC,EAAAA,UAAAA,yF,WAKkBE,EAAAA,YAAAA,2F,yQE5MxB,QAAwH,kB,spCCWxH,SAASK,EAASC,GAChB,IAAMjE,EAAS,4CAA4CkE,KAAKD,GAChE,OAAOjE,EACH,CACEmE,EAAGC,SAASpE,EAAO,GAAI,IACvBqE,EAAGD,SAASpE,EAAO,GAAI,IACvBsE,EAAGF,SAASpE,EAAO,GAAI,KAEzB,KAGN,SAASuE,EAAcC,GACrB,QAAkBA,EAAIC,QAAQ,aAAc,IAAIC,MAAM,KAAtD,GAAOP,EAAP,KAAUE,EAAV,KAAaC,EAAb,KACA,MAAO,CACLH,EAAGC,SAASD,GACZE,EAAGD,SAASC,GACZC,EAAGF,SAASE,IAIhB,I,IAAMK,EAAU,SAAC,GAA2C,IAAzC7D,EAAyC,EAAzCA,MAAO8D,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,UAAW1H,EAAc,EAAdA,QAC5C,OACE,gBAAC2G,EAAA,EAAD,CAAOc,QAASA,EAASzH,QAASA,GAChC,gBAAC2G,EAAA,SAAD,CAAc1G,aAAW,GAAzB,WACA,gBAAC0G,EAAA,OAAD,+BACyB,8BAAShD,GADlC,KAGA,gBAACgD,EAAA,SAAD,KACE,gBAAC9C,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAAS/D,GAArC,UAGA,gBAAC6D,EAAA,EAAD,CAAQC,QAAQ,SAASsB,WAAS,EAACrB,QAAS2D,GAA5C,cAQO,SAAS/L,EAAT,GAAkF,IAAjEC,EAAiE,EAAjEA,MAAOC,EAA0D,EAA1DA,YAAaxC,EAA6C,EAA7CA,SAAUC,EAAmC,EAAnCA,eAAgBuB,EAAmB,EAAnBA,MAAOrB,EAAY,EAAZA,SAClEoB,EAAiBgB,EAA1B8G,QAAgBiB,EAAU/H,EAAV+H,MACxB,KAAyCpK,EAAAA,EAAAA,WAAS,GAAlD,GAAOoO,EAAP,KAAoBC,EAApB,KACA,KAAgCrO,EAAAA,EAAAA,UAAS,SAAzC,GAAOsO,EAAP,KAAiBC,EAAjB,KACA,KAAgCvO,EAAAA,EAAAA,UAASqC,GAAzC,GAAOmM,EAAP,KAAiBC,EAAjB,KACA,KAA8CzO,EAAAA,EAAAA,WAAU,GAAxD,GAAO0O,EAAP,KAAwBC,EAAxB,KACA,KAAqC3O,EAAAA,EAAAA,UAAS,MAA9C,GAAO4O,EAAP,KAAmBC,EAAnB,KACA,KAA+C7O,EAAAA,EAAAA,WAAS,GAAxD,GAAO8O,EAAP,KAAuBC,EAAvB,KACA,KAAwC/O,EAAAA,EAAAA,UAAS,MAAjD,GAAOgP,EAAP,KAAqBC,EAArB,KA0GMC,EAAgB,WACpBX,EAAY,QACZM,GAAe,GACfJ,EAAY,CACVvM,IAAI6G,EAAAA,EAAAA,KACJqB,MAAO,GACP2B,IAAK,GACLhG,MAAO,SAETsI,GAAkB,IAOdc,EAAwB,SAAC7N,GAC7BqN,EAAmBrN,IAGf8N,EAAY,CAChB,CACE,CACEnN,IAAK,EACLmI,MAAO,OACPI,QA9HkB,WACtB+D,EAAY,SACZF,GAAkB,GAClBI,EAAYpM,KA6HV,CACEJ,IAAK,EACLmI,MAAO,YACPI,QA9EiB,WACrBqE,GAAe,GACfJ,EAAY,CACVvM,IAAI6G,EAAAA,EAAAA,KACJqB,MAAO,GACPjB,QAAS,GACTzI,OAAQ,CACN2O,EAAG,EACHC,EAAG,EACHC,EAAGlN,EAAM3B,OAAO6O,EAChBC,EAAG,KAGPnB,GAAkB,GAClBE,EAAY,YAmEZ,CACE,CACEtM,IAAK,EACLmI,MAAO,SACPI,QAAS,WACPyE,EAAgB5M,GAChB0M,GAAqB,OAMvBU,EAAW,CACf,CACE,CACExN,IAAK,EACLmI,MAAO,OACPI,QA9IiB,SAACS,EAAG3K,EAAG2I,GAC5BsF,EAAY,QACZF,GAAkB,GAClBI,EAAYxF,KA6IV,CACEhH,IAAK,EACLmI,MAAO,oBACPI,QAAS0E,GAEX,CACEjN,IAAK,EACLmI,MAAO,SACPI,QAAS,SAACS,EAAG3K,EAAG2I,GACdgG,EAAgBhG,GAChB8F,GAAqB,OAMvBW,EACJ,gBAACC,EAAA,EAAD,CAAM5N,UDzOa,gBC0OjB,gBAAC4N,EAAA,SAAD,CAAa5N,UD1OgC,sBC0ODqI,GAC5C,gBAACuF,EAAA,OAAD,CAAW5N,UD3OsE,wBC4O7D,IAAjBV,EAAMuO,QAAgB3P,GACrB,gBAACqK,EAAA,EAAD,CAAQiC,KAAK,KAAKxK,UAAWC,EAAgBwI,QAAS0E,EAAe3E,QAAQ,SAA7E,YAIDlJ,EAAMb,KAAI,SAACyI,EAAM4G,GAChB,IAAeC,EAAmD7G,EAA1DmB,MAAoBrE,EAAsCkD,EAAtClD,MAAOgG,EAA+B9C,EAA/B8C,IAAKnB,EAA0B3B,EAA1B2B,KAAU1F,GAAgB+D,EAApB/G,GAAoB+G,EAAhB/D,aAC5C4I,EAAM/H,IAAUA,EAAMgK,WAAW,KAAOzC,EAASvH,GAAS8H,EAAc9H,IAExEiK,GADMlC,EAAMmC,KAAKC,KAAcpC,EAAIL,EAAIK,EAAIL,EAArB,KAAmCK,EAAIH,EAAIG,EAAIH,EAArB,KAAmCG,EAAIF,EAAIE,EAAIF,EAArB,MAA2B,IACrF,MAChBnC,EAAcrE,EAAAA,EAAAA,SAAerB,GAC/B,GACA,CACE2F,gBAAiB3F,EACjBC,MAAOgK,EAAS,OAAS,QAK/B,GAFgB,WAAhBF,GAA4B5O,QAAQC,IAAI,MAAO2O,EAAaE,EAAQjK,GAEhE6E,EAAM,CACR,IAAMuF,EACJ,gBAACC,EAAA,EAAD,CAAUC,MAAM,QAAQtO,UAAWI,GAAAA,CAAWH,GAAiBwI,QAAS,kBAAMlI,EAAYhB,KACxF,gBAAC8O,EAAA,SAAD,CAAiB7D,KAAK,KAAKxK,UDlQ2G,oBCkQ9EwI,QAASxE,GAC9D+J,GAGH,gBAACM,EAAA,OAAD,KACGxF,EAAKpK,KAAI,YAAwC,IAA9B8P,EAA8B,EAArClG,MAAuBmG,EAAc,EAAnBxE,IAC7B,OACE,gBAACqE,EAAA,OAAD,CAAe7D,KAAK,KAAKtK,IAAKsO,EAASC,KAAMD,GAC1CD,QAQb,OAAOrQ,EACL,gBAAC,KAAD,CAEEyE,KAAMuE,EACN2B,KAAM6E,EACNgB,OAAQ,kBAAMtB,EAAsBU,KAEnCM,GAGHA,EAIJ,IAAMO,EACJ,gBAACpG,EAAA,EAAD,CACEsC,GAAG,IACH4D,KAAMzE,EACNQ,KAAK,KACL,WAAUR,EACVhK,UAAWC,EACXuI,QAASnD,EAAAA,EAAAA,SAAerB,GAASA,EAAQ,QACzCA,MAAO0F,GAENqE,GAIL,OAAI7P,EAEA,gBAAC,KAAD,CAEEyE,KAAMuE,EACN2B,KAAM6E,EACNgB,OAAQ,kBAAMtB,EAAsBU,KAEnCa,GAML,gBAACvE,EAAA,EAAD,CACEE,UAAU,MACV/F,UAA6B,IAAhBpB,QAAsCwE,EACnD4C,QAAS,gBAACqE,EAAA,EAAD,KAAUzL,IAElBwL,QAQb,OAAIzQ,EAEA,gCACE,gBAAC,KAAD,CAAa2K,KAAMwE,GAAYM,GAC/B,gBAACzC,EAAA,EAAD,CACEiB,QAASE,EACT3H,QAAS,kBAAM4H,GAAkB,IACjCzE,SA/Pe,SAACoB,GAAD,OAAW,SAACrK,GACjC8N,GAAYhH,EAAAA,EAAAA,KAAIuD,EAAJvD,CAAW9G,EAAX8G,CAAkB+G,MA+PxBnB,OAzPW,WACjB,IAAI9L,EAAczB,EAGdyB,EAFAqN,EACe,SAAbN,GACY1F,EAAAA,EAAAA,QAAO,SAAD,OAAUtH,EAAV,aAANsH,EAAkC,SAACvH,GAAD,OAAWsL,EAAAA,EAAAA,QAAOtL,GAAS,GAAhBsL,CAAoB,CAAC6B,MAAlE5F,CAA8ErH,IAE9EqH,EAAAA,EAAAA,QAAO,QAAPA,EAAgB,SAACC,GAAD,OAAY8D,EAAAA,EAAAA,QAAO9D,GAAU,GAAjB8D,CAAqB,CAAC6B,MAAlD5F,CAA8DrH,GAG7D,SAAb+M,GACY7G,EAAAA,EAAAA,KAAI,SAAD,OAAUnG,EAAV,qBAA4BoN,EAA5B,KAAHjH,CAAmD+G,EAAnD/G,CAA6DlG,IAE7DkG,EAAAA,EAAAA,KAAI,SAAD,OAAUnG,EAAV,KAAHmG,CAAuB+G,EAAvB/G,CAAiClG,GAInDA,EAAYC,WAAY,IAAIV,MAAOW,UACnC1B,EAAewB,GACf8M,GAAkB,GAClBQ,GAAe,GACfnN,YAAW,WACTC,SAASC,cAAc,IAAIC,YAAY,kBACtC,MAoOGiI,KAAMwE,EACN5J,KAAM8J,IAER,gBAACP,EAAD,CACE7D,MAAO4E,EAAeA,EAAa5E,MAAQ,GAC3C3D,QA1LmB,WACzBsI,GAAqB,IA0Lfb,QAASY,EACTX,UAjNa,WACnB,IAEIyC,EAGFA,GALc5B,QAA4C,IAArBA,EAAajD,KACzBiD,EAAapE,KAI/B,SAAH,OAAYtJ,EAAZ,aAEG,QAGT2N,EAAgB,MAChB,IAAM1N,GAAcqH,EAAAA,EAAAA,QAAOgI,EAAPhI,EAAa,SAACyC,GAAD,OAAWA,EAAMC,QAAO,SAAC7K,GAAD,OAAUA,EAAKyB,KAAO8M,EAAa9M,QAAxE0G,CAA6E9I,GACjGyB,EAAYC,WAAY,IAAIV,MAAOW,UACnC1B,EAAewB,GACfwN,GAAqB,GACrBrN,YAAW,WACTC,SAASC,cAAc,IAAIC,YAAY,kBACtC,SAqME6N,E,EA7SetN,EAAAA,yV,6FAvCfkL,EAAAA,WAAAA,+E,WAWAO,EAAAA,gBAAAA,+E,WASHI,EAAAA,UAAAA,+E,WAmBkB7L,EAAAA,QAAAA,iF,+jECtClByO,EAAepR,EAAAA,GAAAA,IAAAA,WAAH,gEAAGA,CAAH,mEAQZqR,EAAmB,SAAC3N,GAAD,OAAW,kBAAgBA,IAE9C4N,GAAQtR,EAAAA,EAAAA,IAAOuR,EAAAA,IAAV,oEAAGvR,CAAH,2KAOLwR,GAAiBxR,EAAAA,EAAAA,IAAOyR,EAAAA,IAAV,6EAAGzR,CAAH,oGASpB,SAAS0R,EAASpF,EAAKqF,GACrB,IAAMnI,EAAOtH,SAAS0P,cAAc,KACpCpI,EAAKqI,aAAa,WAAYF,GAC9BnI,EAAKuH,KAAOzE,EACZpK,SAAS4P,KAAKC,YAAYvI,GAC1BA,EAAKwI,QACLxI,EAAKyI,SAGQ,SAASnP,EAAT,GAAsC,WAApBC,EAAoB,EAApBA,OAAQvC,EAAY,EAAZA,SACvC,GAAqCL,EAAAA,EAAAA,YAAWC,EAAAA,GAAxCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,eAClB,KAAwCC,EAAAA,EAAAA,WAAS,GAAjD,GAAO2R,EAAP,KAAqBC,EAArB,KACA,KAA0C5R,EAAAA,EAAAA,WAAS,GAAnD,GAAO6R,EAAP,KAAsBC,EAAtB,KACA,KAAgC9R,EAAAA,EAAAA,UAAS,MAAzC,GAAO+R,EAAP,KAAiBC,EAAjB,KASMC,GAAepR,EAAAA,EAAAA,cAAY,WAC/BsQ,EACE,uCAAyCe,mBAAmB3M,KAAKC,UAAU1F,IAC3E,6BAED,CAACA,IAEEqS,GAAmBtR,EAAAA,EAAAA,cAAY,WACnCiR,GAAiB,KAChB,IAEGM,GAAmBvR,EAAAA,EAAAA,cAAY,SAACoK,GACpC,GAAI,EAAK7F,MAAMwK,OAAQ,CACrB,IAAMyC,EAAOpH,EAAE7F,MAAM3E,KAAK,GACpB6R,EAAS,IAAIC,WACnBD,EAAOE,WAAWH,GAClBC,EAAOG,OAAS,WACd,IAAIV,EACJ,IACEA,EAAWxM,KAAK4C,MAAMmK,EAAOhJ,QAC7B,MAAO2B,IAIT+G,EAAYD,OAGf,IAEGW,GAAmB7R,EAAAA,EAAAA,cAAY,WACnCd,EAAe,EAAD,KACTD,GACAiS,MAEJ,CAAChS,EAAgBD,EAAUiS,IAE9B,OACE,gCACE,gBAAClB,EAAD,KACE,gBAAC,KAAD,KACE,gBAACC,EAAD,CAAkBtG,QAAShI,GAASvC,EAAW,gBAAC,MAAD,MAAc,gBAAC,MAAD,QAE/D,gBAAC,KAAD,KACE,gBAAC6Q,EAAD,KACE,gBAAC,MAAD,OAEF,gBAACC,EAAD,KACE,gBAACE,EAAD,CAAgB0B,SAtDA,WACxBf,GAAgB,KAsDN,gBAAC,IAAD,CAAUnF,KAAK,WACb,gBAAC,MAAD,QAGJ,gBAACwE,EAAD,CAAgB0B,SAAUR,GACxB,gBAAC,IAAD,CAAU1F,KAAK,UACb,gBAAC,MAAD,QAGJ,gBAACwE,EAAD,CAAgB0B,SAAUV,GACxB,gBAAC,IAAD,CAAUxF,KAAK,UACb,gBAAC,MAAD,WAMTkF,GAAgB,gBAAC,IAAD,CAAOzD,QAASyD,EAAclL,QArExB,WACzBmL,GAAgB,MAqEd,gBAAC,IAAD,CAAO1D,QAAS2D,EAAepL,QAAS,kBAAMqL,GAAiB,KAC7D,gBAAC,IAAD,KACE,gBAAC,WAAD,4BACA,gBAAC,SAAD,KACE,gBAAC,UAAD,CAAY/P,UAAU,QACpB,gBAAC,UAAD,qBACA,gBAAC,YAAD,CAAc+H,KAAK,OAAOF,SAAUwI,MAGxC,gBAAC,WAAD,KACE,gBAAC,UAAD,KACE,gBAAC,IAAD,CAAQ7H,QAAQ,UAAUC,QAASkI,GAAnC,Y,EA1FUnQ,EAAAA,mT,kHA3BwCkJ,EAAAA,I,6FAR1DoF,EAAAA,eAAAA,gF,WAQAC,EAAAA,mBAAAA,gF,WAEAC,EAAAA,QAAAA,gF,WAOAE,EAAAA,iBAAAA,gF,WASGE,EAAAA,WAAAA,gF,WASe5O,EAAAA,SAAAA,kF,8UC9CXkJ,GAAcmH,EAAAA,EAAAA,IAAH,2SAsBlBC,EAAapT,EAAAA,GAAAA,OAAAA,WAAH,qDAAGA,CAAcgM,G,EAElBoH,EAAf,U,sGAxBapH,EAAAA,cAAAA,oF,WAsBPoH,EAAAA,aAAAA,oF,urBCrBAC,EAAOrT,EAAAA,GAAAA,KAAAA,WAAH,yDAAGA,CAAH,sCAKJsT,EAAOtT,EAAAA,GAAAA,KAAAA,WAAH,yDAAGA,CAAH,yBAIJuT,EAAOvT,EAAAA,GAAAA,KAAAA,WAAH,yDAAGA,CAAH,kCAKK,SAAS+M,EAAT,GAA2D,IAAvCyG,EAAuC,EAAvCA,SAAUlR,EAA6B,EAA7BA,UAAW0K,EAAkB,EAAlBA,KAAStJ,E,kXAAS,MACxE,OACE,gBAAC2P,EAAD,GAAM/Q,UAAWA,GAAeoB,GAC9B,gBAAC6P,EAAD,KAAOC,GACNxG,GAAQ,gBAACsG,EAAD,KAAOtG,K,6FAlBhBqG,EAAAA,OAAAA,kF,WAKAC,EAAAA,OAAAA,kF,WAIAC,EAAAA,OAAAA,kF,WAKkBxG,EAAAA,WAAAA,oF,wXCRlB0G,GAAcC,EAAAA,EAAAA,IAAH,6CAMXC,GAAc3T,EAAAA,EAAAA,IAAO4T,EAAAA,IAAV,yEAAG5T,CAAH,yJAMX6T,GAAc7T,EAAAA,EAAAA,IAAOoT,EAAAA,GAAV,yEAAGpT,CAAH,sDAOF,SAAS2N,EAAT,GAA+C,IAA9Bc,EAA8B,EAA9BA,QAASzH,EAAqB,EAArBA,QAASwM,EAAY,EAAZA,SAChD,OACE,gBAACG,EAAD,CAAaG,OAAQrF,EAASsF,UAAW/M,GACvC,gBAAC6M,EAAD,CAAa9I,QAAS/D,GACpB,gBAAC,MAAD,OAEDyH,GAAW+E,EACZ,gBAACC,EAAD,OAKN9F,EAAM7K,OAAS,YAAmC,IAAZ0Q,EAAY,EAAZA,SACpC,OAAO,0BAAKA,IAGd7F,EAAMqG,KAAO,YAAiC,IAAZR,EAAY,EAAZA,SAChC,OAAO,2BAAMA,IAGf,I,IAAMS,EAAejU,EAAAA,GAAAA,IAAAA,WAAH,+DAAGA,CAAH,kGAYlB2N,EAAMuG,OAAS,YAAmC,IAAZV,EAAY,EAAZA,SACpC,OAAO,gBAACS,EAAD,KAAeT,K,6FApDlBC,EAAAA,cAAAA,+E,WAMAE,EAAAA,cAAAA,+E,WAMAE,EAAAA,cAAAA,+E,WAOkBlG,EAAAA,QAAAA,+E,WAoBlBsG,EAAAA,eAAAA,iF,goECnCAE,EACJ,uBAAK7N,MAAO,CAAE/C,MAAO,OAAQ6Q,OAAQ,GAAIC,QAAS,OAAQC,WAAY,SAAUC,eAAgB,WAC9F,gBAAC,IAAD,OAIEC,EACJ,0IAEa,SAASC,EAAT,GAAqC,IAApBhG,EAAoB,EAApBA,QAASzH,EAAW,EAAXA,QACvC,GAAqE7G,EAAAA,EAAAA,YAAWC,EAAAA,GAAxEC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,eAAgBsD,EAAlC,EAAkCA,YAAaK,EAA/C,EAA+CA,kBAC/C,KAAoC1D,EAAAA,EAAAA,UAASqD,GAA7C,GAAO8Q,EAAP,KAAmBC,EAAnB,KACM9U,GAAc+U,EAAAA,EAAAA,mBAEpB7Q,EAAAA,EAAAA,YAAU,WACR4Q,EAAc/Q,KACb,CAACA,IAEJ,IAIMiR,GAAazT,EAAAA,EAAAA,cAAY,WAC7B6C,EAAkByQ,KACjB,CAACA,EAAYzQ,IAEV6Q,EAAkBlR,EAAc,KACpC,gBAACiH,EAAA,EAAD,CAAQC,QAAQ,OAAOxE,MAAO,CAAE/C,MAAO,QAAUwN,KAAMyD,EAAWlK,OAAO,UAAzE,yCAKIyK,GAAmB3T,EAAAA,EAAAA,cAAY,WACnC4T,EAAe1P,OAAOjF,KACrB,CAAC2U,EAAgB3U,IAEdwE,GAASoQ,EAAAA,EAAAA,QAAOpU,IAAAA,IAAMR,EAAN,WAEhByE,GAAWC,EAAAA,EAAAA,UAAS,CAAC,OAAQF,EAAOqQ,SAAUhR,EAAAA,GAAsB,CACxEiR,YAAa9U,EAAS+U,KACtBpQ,UAAWH,EAAOqQ,UAEZjQ,EAAoBH,EAApBG,KAAMC,EAAcJ,EAAdI,UAERmQ,GAAcjU,EAAAA,EAAAA,cAAY,WAC9B4F,MAEC,CAAC/B,EAAM+B,EAAS3G,IAEb2U,GAAiB1Q,EAAAA,EAAAA,aAAYJ,EAAAA,GAAoB,CACrDoR,UAAW,WACTzV,EAAY0V,kBAAkB,QAC9B9T,QAAQC,IAAI,uBAIhBqC,EAAAA,EAAAA,YAAU,WACsB,YAA1BiR,EAAehP,QACjB1F,EAAe,EAAD,KACTD,GADS,IAEZwE,OAAQhE,IAAAA,IAAMmU,EAAgB,qBAIjC,CAACA,EAAgB3U,IAEpB,IAAMmV,EAAW3U,IAAAA,MAAQoE,GAAMnE,IAAd,cAAgC2U,OAAOC,OAAOxU,QAEzDyU,EACJ,gBAAC3K,EAAA,QAAD,CAAY1I,UAAU,QACnB4C,EACGiP,EACAlP,GACE,gBAACiL,EAAA,EAAD,CAAM0F,OAAO,WACX,gBAAC1F,EAAA,SAAD,KAAcsF,GACd,gBAACtF,EAAA,OAAD,KACGrP,IAAAA,IAAMoE,EAAM,oBACb,2BACA,gBAAC4Q,EAAA,EAAD,CAAO/O,GAAG,aAAV,IAAwBjG,IAAAA,IAAMoE,EAAM,uBAOlD,KAAqD1E,EAAAA,EAAAA,WAAS,GAA9D,GAAOuV,EAAP,KAA0BC,EAA1B,KACA,KAAgCxV,EAAAA,EAAAA,UAAS,MAAzC,GAAOyV,EAAP,KAAqBC,EAArB,KACMC,GAAkB9U,EAAAA,EAAAA,cAAY,WAClC2U,GAAwB,KACvB,CAACA,IACEI,GAAYpR,EAAAA,EAAAA,UAAS,QAASb,EAAAA,GAAsB,CACxDc,QAAS8Q,IAELM,GAAmBhV,EAAAA,EAAAA,cAAY,SAACgU,GACpCvQ,EAAOqQ,QAAUE,EAAK3S,GACtBwT,EAAQb,KACP,IACGiB,GAAiBjV,EAAAA,EAAAA,cAAY,WAC7B6D,EAAKA,KACP3E,EAAe,EAAD,OACTD,IACA+E,EAAAA,EAAAA,GAAiBH,EAAKA,OAFb,IAGZJ,OAAQmR,EAAavT,MAGvBnC,EAAe,EAAD,KACTD,GADS,IAEZwE,OAAQmR,EAAavT,MAIzBsT,GAAwB,KACvB,CAAC9Q,MAAAA,OAAD,EAACA,EAAMA,KAAM+Q,MAAAA,OAAb,EAAaA,EAAcvT,GAAIpC,EAAUC,IAE5C,OACE,gCACE,gBAACqN,EAAA,EAAD,CAAOc,QAASA,EAASzH,QAASqO,GAChC,gBAAC1H,EAAA,SAAD,iCACA,gBAACA,EAAA,OAAD,CAAYrL,UClIgB,6BDmI1B,gBAAC0I,EAAA,EAAD,CACE1I,UCpIqF,eDqIrFgU,SAAU,SAAC9K,GACTA,EAAE+K,mBAIJ,gBAACvL,EAAA,QAAD,CAAY1I,UAAU,QAAQwS,GAE9B,gBAAC9J,EAAA,QAAD,CAAY1I,UAAU,QACpB,gBAAC0I,EAAA,UAAD,CACEX,KAAK,QACL8B,YAAY,2BACZC,WAAS,EACToK,OAAQ3B,EACR4B,UAAW,SAACjL,GACM,KAAZA,EAAEkL,QACJlL,EAAE+K,iBACF1B,MAGJ1K,SA1HS,SAACqB,GACtBmJ,EAAcnJ,EAAElB,OAAOpJ,QA0HXA,MAAOwT,KAGV9Q,GAAe+R,EACf/R,IAAgBsB,GACf,gBAAC8F,EAAA,QAAD,CAAY1I,UAAU,OAAO4J,UAAU,OACrC,gBAACyK,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,KACE,gBAAC/L,EAAA,EAAD,CAAQvE,MAAO,CAAE/C,MAAO,QAAUuH,QAAQ,UAAUC,QAASgK,GAA7D,sBAIF,gBAAC6B,EAAA,EAAD,KACE,gBAAC/L,EAAA,EAAD,CAAQvE,MAAO,CAAE/C,MAAO,QAAUuH,QAAQ,YAAYC,QAASmL,GAA/D,iCAUd,gBAACvI,EAAA,EAAD,CAAOc,QAASqH,EAAmB9O,QAAS,kBAAM+O,GAAwB,KACxE,gBAACpI,EAAA,SAAD,gDACA,gBAACA,EAAA,OAAD,KACGwI,EAAUjR,WAAaiP,EACxB,gBAAC0C,EAAA,EAAD,CAAWvQ,MAAO,CAAEwQ,OAAQ,WACzBjW,IAAAA,MAAQsV,GACNrV,IAAI,aACJC,KAAI,SAACC,GAAD,OACH,gBAAC6V,EAAA,OAAD,CACEvQ,MAAO,CAAEyQ,OAAQ,WACjBvU,IAAKxB,EAAKyB,GACVqI,QAASzK,EAASwE,SAAW7D,EAAKyB,GAAK,UAAY,KACnDsI,QAAS,kBAAMqL,EAAiBpV,IAChCgW,OAAQhB,GAAgBA,EAAavT,KAAOzB,EAAKyB,IAEhDzB,EAAKyE,YACN,2BACC5E,IAAAA,MAAQG,EAAK2E,OACX8P,OACA1U,KAAI,SAACyU,GAAD,OACH,gCACE,gBAACK,EAAA,EAAD,CAAOrT,IAAKgT,EAAU1O,GAAG,WACtB0O,GAEH,+BAGHtU,QACH,2BACA,gBAAC2U,EAAA,EAAD,CAAO/O,GAAG,aAAV,IAAwB9F,EAAKiW,YArB/B,IAqBmD,gBAACpB,EAAA,EAAD,CAAO/O,GAAG,QAAV,IAAmB9F,EAAKkW,gBAG5EhW,UAGP,gBAACyM,EAAA,SAAD,MACIwI,EAAUjR,WACV,gBAAC2F,EAAA,EAAD,CAAQC,QAAQ,UAAUC,QAASsL,GAAnC,U,EAhMY5B,EAAAA,iiBAAAA,W,OAGFG,EAAAA,eA0BH7P,EAAAA,SAWMT,EAAAA,YAyCLS,EAAAA,c,6FA1FdoP,EAAAA,UAAAA,+E,WAMAK,EAAAA,YAAAA,+E,WAGkBC,EAAAA,QAAAA,iF,gHEtBpB0C,E,8GAEG,SAASC,EAAWC,GACzBF,EAAUE,EAGL,SAASC,IACdH,EAAU,KAGL,SAASI,IACd,GAAKJ,EAIL,OAAOA,EAAQK,KAAKC,MAAMC,OAGrB,SAASC,EAAT,GAAgC,I,IAAZC,EAAY,EAAZA,SACzB,GAAKT,EAAL,CAIA,IAAS5R,G,EAAWqS,E,EAApB,E,8zBAAA,GAEA,OAAOT,EAAQK,KAAKC,MAAM3W,IAAI,CAC5ByE,QAAAA,KAIG,SAASsS,EAAO/O,GACrBqO,EAAQK,KAAKC,MAAMI,OAAO,CACxBrS,QAAQ,EACRC,YAAa,4DACbE,MAAO,CACL,0BAA2B,CACzBE,QAASC,KAAKC,UAAU+C,OAMzB,SAASgP,EAAWhP,GACzB,GAAKqO,EAIL,OAAOA,EAAQK,KAAKC,MAAMtO,OAAOL,G,oVA/C/BqO,EAAAA,UAAAA,uE,WAEYC,EAAAA,aAAAA,uE,WAIAE,EAAAA,iBAAAA,uE,WAIAC,EAAAA,WAAAA,uE,WAQAI,EAAAA,WAAAA,uE,WAYAE,EAAAA,SAAAA,uE,WAYAC,EAAAA,aAAAA,yE,oVCnCVC,EAAY7V,SAAS8V,eAAe,OACpCC,GAAOC,EAAAA,EAAAA,GAAWH,GACxBE,EAAKE,OAAO,gBAAC,IAAD,Q,6FAFNJ,EAAAA,YAAAA,8D,WACAE,EAAAA,OAAAA,gE,oHCRC,SAAS3O,IACd,iBAAWkH,KAAK4H,SAASC,SAAS,IAAIC,OAAO,EAAG,I,qSADlChP,EAAAA,OAAAA,iE,0VCID,SAAUrE,GACvB,IACI4E,EADEhE,EAAUhF,IAAAA,IAAMoE,EAAM,CAAC,QAASW,EAAAA,GAAW,YAEjD,IACEiE,EAAS/D,KAAK4C,MAAM7C,GACpB,MAAOgD,GACPpH,QAAQuI,KAAKnB,GAGf,OAAOgB,GATT,U,8TCHA,SAAgB,QAAU,kBAAkB,KAAO,eAAe,QAAU,kBAAkB,YAAc,sBAAsB,SAAW,qB","sources":["webpack://candi-tab/./src/App.js","webpack://candi-tab/./src/assets/bg.png","webpack://candi-tab/./src/const.js","webpack://candi-tab/./src/constant.js","webpack://candi-tab/./src/context/settings.context.js","webpack://candi-tab/./src/hooks/settings.js","webpack://candi-tab/./src/hooks/storage.js","webpack://candi-tab/./src/hooks/useSettings.js","webpack://candi-tab/./src/hooks/useStorage.js","webpack://candi-tab/./src/partials/Block/EditModal/index.js","webpack://candi-tab/./src/partials/Block/EditModal/index.less?aff9","webpack://candi-tab/./src/partials/Block/index.less?1c34","webpack://candi-tab/./src/partials/Block/index.js","webpack://candi-tab/./src/partials/Header/index.js","webpack://candi-tab/./src/partials/IconButton/index.js","webpack://candi-tab/./src/partials/IconText/index.js","webpack://candi-tab/./src/partials/Modal/index.js","webpack://candi-tab/./src/partials/OAuth/index.js","webpack://candi-tab/./src/partials/OAuth/index.less?51e5","webpack://candi-tab/./src/service/gist.js","webpack://candi-tab/./src/tab.js","webpack://candi-tab/./src/utils.js","webpack://candi-tab/./src/utils/parseGistContent.js","webpack://candi-tab/./src/styles.less?7234"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport GridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\nimport { Octokit } from '@octokit/rest';\nimport { ReactQueryDevtools } from 'react-query/devtools';\nimport { QueryClient, QueryClientProvider, useMutation, useQuery } from 'react-query';\n// Create a client\nimport _ from 'lodash';\nconst queryClient = new QueryClient();\nimport { Toast, ToastContainer } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport BarLoader from 'react-spinners/BarLoader';\n\nimport useStorage from './hooks/useStorage';\nimport Header from './partials/Header';\nimport Block from './partials/Block';\nimport styles from './styles.less';\nimport useSettings from './hooks/useSettings';\nimport bg from './assets/bg.png';\nimport SettingsContext from './context/settings.context';\nimport * as gistService from './service/gist';\nimport { FILE_NAME, GIST_DESCRIPTION } from './constant';\nimport parseGistContent from './utils/parseGistContent';\n\nconst Grid = styled(GridLayout)`\n  margin: 48px 0;\n`;\n\nfunction App() {\n  const { settings, updateSettings } = useContext(SettingsContext);\n  const [editable, toggleEditable] = useState(false);\n  const [activeBlockIndex, setActiveBlockIndex] = useState('');\n  const layouts = _.chain(settings)\n    .get('links')\n    .map((item) => item.layout)\n    .value();\n  // const [code, setCode] = useState('');\n\n  const handleLayoutChange = useCallback(\n    (layout) => {\n      if (Date.now() - window.initialTime < 1000) {\n        console.log('Should not update settings');\n        return;\n      }\n      const newLinks = settings.links.map((item, index) => {\n        return { ...item, layout: layout[index] };\n      });\n\n      const newSettings = {\n        ...settings,\n        links: newLinks,\n      };\n\n      newSettings.createdAt = new Date().getTime();\n      setTimeout(() => {\n        document.dispatchEvent(new CustomEvent('sync-upload'));\n      }, 1000);\n\n      updateSettings(newSettings);\n    },\n    [settings, updateSettings],\n  );\n\n  const handleToggleEditable = () => {\n    toggleEditable(!editable);\n  };\n\n  const handleSetActiveBlockIndex = (index) => {\n    setActiveBlockIndex(index);\n  };\n\n  if (!settings) {\n    return (\n      <div className={styles.spinner}>\n        <BarLoader />\n      </div>\n    );\n  }\n\n  const links = settings.links.map((item, index) => {\n    return (\n      <div\n        key={item.id}\n        data-grid={item.layout}\n        className={classNames(styles.linkBlock, {\n          [styles.blockActive]: activeBlockIndex === index,\n        })}\n      >\n        <Block\n          editable={editable}\n          settings={settings}\n          updateSettings={updateSettings}\n          block={item}\n          index={index}\n          onMenuClick={handleSetActiveBlockIndex}\n        />\n      </div>\n    );\n  });\n\n  return (\n    <section\n      className={classNames(styles.main, {\n        editable,\n      })}\n    >\n      <style>\n        {`\n          body {\n            background-image: url('${bg}');\n            background-repeat: repeat;\n            background-attachment: fixed;\n            background-position: initial;\n          }\n          `}\n      </style>\n      <Header onEdit={handleToggleEditable} editable={editable} />\n      <Grid\n        layout={layouts}\n        draggableHandle=\".card-header\"\n        isResizable={editable}\n        isDraggable={editable}\n        isDroppable={editable}\n        onLayoutChange={handleLayoutChange}\n        className=\"layout\"\n        cols={12}\n        rowHeight={4}\n        width={1200}\n      >\n        {links}\n      </Grid>\n    </section>\n  );\n}\n\nfunction withOauth(Comp) {\n  return function OauthWrapper(props) {\n    const [accessToken, setAccessToken] = useStorage('accessToken');\n    const [settings, updateSettings] = useSettings();\n\n    useEffect(() => {\n      window.initialTime = new Date().getTime();\n    }, []);\n\n    const value = useMemo(() => {\n      return {\n        updateSettings,\n        settings,\n        accessToken,\n        updateAccessToken: setAccessToken,\n      };\n    }, [updateSettings, settings, accessToken, setAccessToken]);\n\n    useEffect(() => {\n      if (accessToken) {\n        gistService.setOctokit(\n          new Octokit({\n            auth: accessToken,\n          }),\n        );\n\n        return () => {\n          gistService.destroyOctokit();\n        };\n      }\n    }, [accessToken]);\n\n    const updateMutation = useMutation(gistService.updateGist);\n    const [successToastVisible, toggleSuccessToastVisible] = useState(false);\n    const [errorToastVisible, toggleErrorToastVisible] = useState(false);\n    useEffect(() => {\n      if (updateMutation.isSuccess) {\n        toggleSuccessToastVisible(true);\n      }\n    }, [updateMutation.isSuccess]);\n    useEffect(() => {\n      if (updateMutation.isError) {\n        toggleErrorToastVisible(true);\n      }\n    }, [updateMutation.isError]);\n\n    const gistId = _.get(settings, `gistId`);\n    const queryOne = useQuery(['gist', gistId], gistService.fetchOne, {\n      enabled: !!gistId,\n    });\n    const { data, isLoading } = queryOne;\n    const settingsContent = parseGistContent(_.get(data, 'data'));\n\n    // 上传gist\n    const handleUploadGist = useCallback(() => {\n      if (!settings) {\n        return;\n      }\n\n      if (settingsContent && settingsContent.createdAt > settings.createdAt) {\n        return;\n      }\n\n      updateMutation.mutate({\n        gist_id: _.get(settings, 'gistId'),\n        public: false,\n        description: GIST_DESCRIPTION,\n        files: {\n          [FILE_NAME]: {\n            content: JSON.stringify(settings),\n          },\n        },\n      });\n    }, [settings, settingsContent, updateMutation]);\n\n    useEffect(() => {\n      if (queryOne.status === 'success' && settingsContent?.createdAt > settings?.createdAt) {\n        updateSettings(settingsContent);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [queryOne.status, settings?.createdAt, settingsContent]);\n\n    useEffect(() => {\n      document.addEventListener('sync-upload', handleUploadGist);\n\n      return () => {\n        document.removeEventListener('sync-upload', handleUploadGist);\n      };\n    }, [handleUploadGist]);\n\n    const toastStyle = {\n      width: 'auto',\n    };\n\n    return (\n      <SettingsContext.Provider value={value}>\n        <Comp {...props} />\n        <ToastContainer\n          position=\"bottom-end-2\"\n          style={{ color: '#fff', right: 10, bottom: 10 }}\n          containerPosition=\"fixed\"\n        >\n          <Toast autohide style={toastStyle} show={updateMutation.isLoading || isLoading}>\n            <Toast.Body>\n              <BarLoader />\n            </Toast.Body>\n          </Toast>\n          <Toast\n            autohide\n            style={toastStyle}\n            bg=\"success\"\n            delay={2000}\n            show={successToastVisible}\n            onClose={() => toggleSuccessToastVisible(false)}\n          >\n            <Toast.Body>Upload success</Toast.Body>\n          </Toast>\n          <Toast\n            autohide\n            style={toastStyle}\n            bg=\"danger\"\n            delay={5000}\n            show={errorToastVisible}\n            onClose={() => toggleErrorToastVisible(false)}\n          >\n            <Toast.Header closeButton={false}>Upload failed</Toast.Header>\n            <Toast.Body>{updateMutation.error?.message}</Toast.Body>\n          </Toast>\n        </ToastContainer>\n      </SettingsContext.Provider>\n    );\n  };\n}\n\nfunction withQuery(Component) {\n  return function QueryWrapped(props) {\n    return (\n      <QueryClientProvider client={queryClient}>\n        <Component {...props} />\n        <ReactQueryDevtools initialIsOpen={false} />\n      </QueryClientProvider>\n    );\n  };\n}\n\nexport default hot(withQuery(withOauth(App)));\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABZ0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMDvo9WkAAADESURBVEhLlc0xEoQwDMBA/v/YlFcfYDEQcGJF/Y6232JtsbUBSLeThQFIF8oOQDqYHIB0sLN6ANLBrooBSAd7NBuAdLC+4QCkg33KByAdLCsZgHSwQe8BSAcb1w1AOti0ewDSwaoYgHShTMcApAsp20A6nG5tANLtZGEA0oWyA5AOJgcgHeysHoB0sKtiANLBHs0GIB2sbzgA6WCf8gFIB8tKBiAdbNB7ANLBxnUDkA427R6AdLAqBiBdKNMxAOlCqlr7A5PnWKbfWQbaAAAAAElFTkSuQmCC\"","export const TYPES = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];","export const FILE_NAME = 'candi_tab_settings.json';\nexport const GIST_DESCRIPTION = 'A gist for settings syncing of candi-tab chrome extension';\nexport const UPLOAD_EVENT = 'sync-upload';\nexport const DOWNLOAD_EVENT = 'sync-download';\nexport const TYPES = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\n","import { createContext } from 'react';\n\nconst settings = {};\n\nexport default createContext(settings);\n","import { set, get } from './storage';\n\nexport function save(settings) {\n  return set('settings', settings);\n}\n\nexport function load() {\n  return get('settings');\n}","import _ from 'lodash';\n\nconst isChrome = !!(chrome && chrome.storage);\n\nexport function get(key) {\n  return new Promise((resolve, reject) => {\n    try {\n      if (isChrome) {\n        chrome.storage.local.get((store) => {\n          resolve(_.get(store, key));\n        });\n      } else {\n        resolve(JSON.parse(localStorage.getItem(key)));\n      }\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function set(key, payload) {\n  return new Promise((resolve, reject) => {\n    if (isChrome) {\n      chrome.storage.local.set({ [key]: payload }, () => {\n        resolve(true);\n      });\n    } else {\n      try {\n        localStorage.setItem(key, JSON.stringify(payload));\n        resolve(true);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n","import { useEffect, useState } from 'react';\nimport { update } from 'lodash/fp';\n\nimport { save, load } from './settings';\nimport { uuid } from '../utils';\n\nconst defaultSettings = require('../homely.json');\n\nconst setIds = update('links')((blocks) =>\n  blocks.map((block) => {\n    const extra = {\n      id: uuid(),\n    };\n\n    const mapLink = (link) => {\n      const withId = {\n        id: uuid(),\n      };\n\n      if (!link.id) {\n        return {\n          ...link,\n          ...withId,\n        };\n      }\n\n      return link;\n    };\n\n    if (!block.id) {\n      return {\n        ...block,\n        ...extra,\n        buttons: block.buttons.map(mapLink),\n      };\n    }\n    return {\n      ...block,\n      buttons: block.buttons.map(mapLink),\n    };\n  }),\n);\n\nexport default function useSettings() {\n  const [settings, setSettings] = useState(null);\n  // const manifest = chrome.runtime.getManifest();\n  useEffect(() => {\n    load().then((result) => {\n      const newSettings = setIds({ ...defaultSettings, ...result });\n      setSettings(newSettings);\n    });\n  }, []);\n\n  const updateSettings = (newSettings) => {\n    const _value = {\n      ...newSettings,\n    };\n\n    setSettings(() => {\n      return _value;\n    });\n    save(_value);\n  };\n\n  return [settings, updateSettings];\n}\n","import { useCallback, useEffect, useState } from 'react';\n\nimport * as storage from './storage';\n\nexport default function useStorage(key) {\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    try {\n      storage.get(key).then((result) => {\n        setValue(result);\n      });\n    } catch (err) {\n      console.warn(err);\n      setValue(undefined);\n    }\n  }, [key]);\n\n  const handleUpdate = useCallback(\n    (payload) => {\n      try {\n        setValue(payload);\n        storage.set(key, payload);\n      } catch (err) {\n        console.warn(err);\n      }\n    },\n    [key],\n  );\n\n  return [value, handleUpdate];\n}\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport { DragOutlined } from '@ant-design/icons'\nimport upperFirst from 'lodash/upperFirst';\nimport pick from 'lodash/pick';\nimport get from 'lodash/get';\nimport update from 'lodash/fp/update';\nimport compose from 'lodash/fp/compose';\nimport fpGet from 'lodash/fp/get';\nimport { Button, Form, Tabs, Tab, ButtonGroup, Popover, InputGroup, OverlayTrigger, ToggleButton, ToggleButtonGroup } from 'react-bootstrap';\n\nimport { uuid } from '../../../utils';\nimport { TYPES } from '../../../const';\nimport IconText from '../../IconText';\nimport Modal from '../../../partials/Modal';\nimport styles from './index.less';\n\nconst StylePicker = ({ value, onChange, className, ...props }) => {\n  const handleChangeStyle = (type) => {\n    if (onChange) {\n      onChange(typeof type === 'object' ? type.target.value : type);\n    }\n  };\n  \n  return (\n    <div>\n      <Tabs className={classNames(styles.tab, className)} defaultActiveKey=\"preset\" id=\"uncontrolled-tab-example\" {...props}>\n        <Tab eventKey=\"preset\" title=\"Built-in\">\n          <ButtonGroup className=\"me-2\" aria-label=\"Second group\">\n            {TYPES.map(type => (\n              <Button key={type} variant={type} onClick={() => handleChangeStyle(type)} />\n            ))}\n          </ButtonGroup>\n        </Tab>\n        <Tab eventKey=\"custom\" title=\"Color\">\n          <Form.Control\n            type=\"color\"\n            defaultValue=\"#563d7c\"\n            title=\"Choose your color\"\n            value={value}\n            onChange={handleChangeStyle}\n          />\n        </Tab>\n      </Tabs>\n    </div>\n  )\n}\n\nconst LinkForm = ({ data, onChange }) => {\n  const [isMenu, toggleIsMenu] = useState(!!data.menu);\n  const handleOnChange = field => (e) => {\n    onChange(field)(e.target ? e.target.value : e);\n  };\n\n  const handleToggleIsMenu = () => {\n    if (!isMenu) {\n      onChange('menu')(data.url ? [{ id: uuid(), ...pick(data, ['title', 'url']) }] : []);\n      onChange('url')(undefined);\n    } else {\n      onChange('menu')(undefined);\n      onChange('url')(data.menu ? get(data.menu, [0, 'url']) : '');\n    }\n    toggleIsMenu(!isMenu);\n  };\n\n  const handleAddMenu = () => {\n    onChange('menu')(\n      compose(\n        fpGet('menu'),\n        update('menu')(items => (items || []).concat([{ id: uuid(), title: 'untitled', url: '' }]))\n      )(data))\n  };\n\n  const handleDeleteMenu = (id) => () => {\n    onChange('menu')(\n      compose(\n        fpGet('menu'),\n        update('menu')(items => (items || []).filter(item => item.id !== id))\n      )(data)\n    )\n  }\n\n  const popover = (\n    <Popover>\n      <Popover.Body>\n        <StylePicker onChange={handleOnChange('style')} value={data.style} />\n      </Popover.Body>\n    </Popover>\n  );\n\n  const buttonStyle = TYPES.includes(data.style) ? {} : {\n    backgroundColor: data.style,\n  };\n\n  return (\n    <Form>\n      <Form.Group className=\"mb-3\" controlId=\"title\">\n        <Form.Label>Name</Form.Label>\n        <Form.Control\n          type=\"input\"\n          placeholder=\"Type link name here\"\n          autoFocus\n          onChange={handleOnChange('title')}\n          value={data.title}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"isMenu\">\n        <Form.Check \n          type=\"checkbox\"\n          checked={isMenu}\n          onChange={handleToggleIsMenu}\n          label=\"Convert to Menu\"\n        />\n      </Form.Group>\n      \n      {!isMenu && (\n        <Form.Group className=\"mb-3\" controlId=\"url\">\n          <Form.Label>Link</Form.Label>\n          <InputGroup className=\"mb-3\">\n            <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={popover}>\n              <Button variant={TYPES.includes(data.style) ? data.style : 'light'} className={styles.styleBtn} style={buttonStyle} />\n            </OverlayTrigger>\n            \n            <Form.Control\n              type=\"input\"\n              placeholder=\"Type link name here\"\n              onChange={handleOnChange('url')}\n              value={data.url}\n            />\n          </InputGroup>\n        </Form.Group>\n      )}\n\n      {isMenu && (\n        <Form.Group className=\"mb-3\" controlId=\"url\">\n          <Form.Label>Links</Form.Label>\n          {\n            data.menu && data.menu.map((item, index) => (\n              <InputGroup className=\"mb-3\" key={item.id}>\n                <Button size=\"sm\" variant=\"secondary\" className={styles.moveLink} onClick={handleDeleteMenu(item.id)}>\n                  <IconText text=\"\">\n                    <DragOutlined />\n                  </IconText>\n                </Button>\n                <Form.Control\n                  type=\"input\"\n                  onChange={handleOnChange(`menu[${index}].title`)}\n                  value={item.title}\n                />\n                <Form.Control\n                  type=\"input\"\n                  onChange={handleOnChange(`menu[${index}].url`)}\n                  value={item.url}\n                />\n                <Button size=\"sm\" variant=\"danger\" onClick={handleDeleteMenu(item.id)}>\n                  Delete\n                </Button>\n              </InputGroup>\n            ))\n          }\n          <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" onClick={handleAddMenu} size=\"sm\">\n              Add link\n            </Button>\n          </div>\n        </Form.Group>\n      )}\n      <Form.Group\n        className=\"mb-3\"\n        controlId=\"description\"\n      >\n        <Form.Label>Description</Form.Label>\n        <Form.Control value={data.description} onChange={handleOnChange('description')} as=\"textarea\" rows={3} />\n      </Form.Group>\n    </Form>\n  );\n};\n\nconst BlockForm = ({ data, onChange }) => {\n  const handleOnChange = field => (e) => {\n    onChange(field)(e.target.value);\n  };\n\n  return (\n    <Form>\n      <Form.Group className=\"mb-3\" controlId=\"title\">\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"input\"\n          placeholder=\"Block title\"\n          autoFocus\n          onChange={handleOnChange('title')}\n          value={data.title}\n        />\n      </Form.Group>\n    </Form>\n  );\n} \n\nconst FormSet = {\n  Link: LinkForm,\n  Block: BlockForm,\n};\n\nexport default function EditModal({ data, type, onChange, ...props}) {\n  const EditForm = FormSet[upperFirst(type)];\n  return (\n    <Modal\n      {...props}\n    >\n      <Modal.Header closeButton>\n        {data.title || 'untitled'}\n      </Modal.Header>\n      <Modal.Body>\n        <EditForm data={data} onChange={onChange} />\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={props.onClose}>Close</Button>\n        <Button onClick={props.onSave}>Save</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}","// extracted by mini-css-extract-plugin\nexport default {\"tab\":\"tab___t3bqh\",\"styleBtn\":\"styleBtn___WNF2x\",\"moveLink\":\"moveLink___xnZ1m\"};","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"card___wP8i0\",\"cardHeader\":\"cardHeader___PC0mq\",\"blockContent\":\"blockContent___TfbJV\",\"linkBtn\":\"linkBtn___DCbMt\",\"linkGroup\":\"linkGroup___ey5zm\",\"blockEdit\":\"blockEdit___xF2QH\",\"addBth\":\"addBth___tS4zU\"};","import React, { useState } from 'react';\nimport { Button, Card, Dropdown, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport classNames from 'classnames';\nimport ContextMenu from 'lina-context-menu';\nimport { set, update, concat } from 'lodash/fp';\n\nimport { uuid } from '../../utils';\nimport EditModal from './EditModal';\nimport Modal from '../Modal';\nimport { TYPES } from '../../const';\nimport styles from './index.less';\n\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nfunction rgbString2Obj(rgb) {\n  const [r, g, b] = rgb.replace(/rgb|\\(\\|\\)/, '').split(' ');\n  return {\n    r: parseInt(r),\n    g: parseInt(g),\n    b: parseInt(b),\n  };\n}\n\nconst Confirm = ({ title, visible, onConfirm, onClose }) => {\n  return (\n    <Modal visible={visible} onClose={onClose}>\n      <Modal.Header closeButton>Confirm</Modal.Header>\n      <Modal.Body>\n        Are you sure to delete <strong>{title}</strong>?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" autoFocus onClick={onConfirm}>\n          Confirm\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default function Block({ block, onMenuClick, settings, updateSettings, index, editable }) {\n  const { buttons: links, title } = block;\n  const [editVisible, toggleEditVisible] = useState(false);\n  const [editType, setEditType] = useState('block');\n  const [editData, setEditData] = useState(block);\n  const [activeLinkIndex, setActiveLinkIndex] = useState(-1);\n  const [isAddition, toggleAddition] = useState(null);\n  const [confirmVisible, toggleConfirmVisible] = useState(false);\n  const [dataToDelete, setDataToDelete] = useState(null);\n\n  /**\n   * 编辑block\n   */\n  const handleEditBlock = () => {\n    setEditType('block');\n    toggleEditVisible(true);\n    setEditData(block);\n  };\n\n  /**\n   * 编辑Link\n   */\n  const handleEditLink = (e, _, link) => {\n    setEditType('link');\n    toggleEditVisible(true);\n    setEditData(link);\n  };\n\n  /**\n   * 编辑表单\n   */\n  const handleOnChange = (field) => (value) => {\n    setEditData(set(field)(value)(editData));\n  };\n\n  /**\n   * 保存表单\n   */\n  const handleSave = () => {\n    let newSettings = settings;\n    if (isAddition) {\n      if (editType === 'link') {\n        newSettings = update(`links[${index}].buttons`)((links) => concat(links || [])([editData]))(newSettings);\n      } else {\n        newSettings = update('links')((blocks) => concat(blocks || [])([editData]))(newSettings);\n      }\n    } else {\n      if (editType === 'link') {\n        newSettings = set(`links[${index}].buttons[${activeLinkIndex}]`)(editData)(newSettings);\n      } else {\n        newSettings = set(`links[${index}]`)(editData)(newSettings);\n      }\n    }\n\n    newSettings.createdAt = new Date().getTime();\n    updateSettings(newSettings);\n    toggleEditVisible(false);\n    toggleAddition(false);\n    setTimeout(() => {\n      document.dispatchEvent(new CustomEvent('sync-upload'));\n    }, 1000);\n  };\n\n  /**\n   * 添加block\n   */\n  const handleAddBlock = () => {\n    toggleAddition(true);\n    setEditData({\n      id: uuid(),\n      title: '',\n      buttons: [],\n      layout: {\n        w: 2,\n        h: 8,\n        x: block.layout.x,\n        y: 0,\n      },\n    });\n    toggleEditVisible(true);\n    setEditType('block');\n  };\n\n  /**\n   * 删除block\n   */\n  const handleDelete = () => {\n    const isBlock = dataToDelete && typeof dataToDelete.url === 'undefined';\n    const isLink = !isBlock || dataToDelete.menu;\n    let path = '';\n\n    if (isLink) {\n      path = `links[${index}].buttons`;\n    } else {\n      path = 'links';\n    }\n\n    setDataToDelete(null);\n    const newSettings = update(path)((items) => items.filter((item) => item.id !== dataToDelete.id))(settings);\n    newSettings.createdAt = new Date().getTime();\n    updateSettings(newSettings);\n    toggleConfirmVisible(false);\n    setTimeout(() => {\n      document.dispatchEvent(new CustomEvent('sync-upload'));\n    }, 1000);\n  };\n\n  const handleCloseConfirm = () => {\n    toggleConfirmVisible(false);\n  };\n\n  /**\n   * 添加链接\n   */\n  const handleAddLink = () => {\n    setEditType('link');\n    toggleAddition(true);\n    setEditData({\n      id: uuid(),\n      title: '',\n      url: '',\n      style: 'info',\n    });\n    toggleEditVisible(true);\n  };\n\n  /**\n   * 打开右键菜单时记录link索引\n   * @param {*} index\n   */\n  const handleLinkContextOpen = (index) => {\n    setActiveLinkIndex(index);\n  };\n\n  const blockMenu = [\n    [\n      {\n        key: 1,\n        title: 'Edit',\n        onClick: handleEditBlock,\n      },\n      {\n        key: 2,\n        title: 'Add block',\n        onClick: handleAddBlock,\n      },\n    ],\n    [\n      {\n        key: 4,\n        title: 'Delete',\n        onClick: () => {\n          setDataToDelete(block);\n          toggleConfirmVisible(true);\n        },\n      },\n    ],\n  ];\n\n  const linkMenu = [\n    [\n      {\n        key: 2,\n        title: 'Edit',\n        onClick: handleEditLink,\n      },\n      {\n        key: 1,\n        title: 'Insert link after',\n        onClick: handleAddLink,\n      },\n      {\n        key: 3,\n        title: 'Delete',\n        onClick: (e, _, link) => {\n          setDataToDelete(link);\n          toggleConfirmVisible(true);\n        },\n      },\n    ],\n  ];\n\n  const card = (\n    <Card className={styles.card}>\n      <Card.Header className={styles.cardHeader}>{title}</Card.Header>\n      <Card.Body className={styles.blockContent}>\n        {links.length === 0 && editable && (\n          <Button size=\"sm\" className={styles.linkBtn} onClick={handleAddLink} variant=\"light\">\n            Add link\n          </Button>\n        )}\n        {links.map((link, linkIndex) => {\n          const { title: buttonTitle, style, url, menu, id, description } = link;\n          const rgb = style && (style.startsWith('#') ? hexToRgb(style) : rgbString2Obj(style));\n          const hsp = rgb ? Math.sqrt(0.299 * (rgb.r * rgb.r) + 0.587 * (rgb.g * rgb.g) + 0.114 * (rgb.b * rgb.b)) : 0;\n          const isDark = hsp <= 127.5;\n          const buttonStyle = TYPES.includes(style)\n            ? {}\n            : {\n                backgroundColor: style,\n                color: isDark ? '#fff' : '#000',\n              };\n\n          buttonTitle === '本地Plex' && console.log('rgb', buttonTitle, isDark, style);\n\n          if (menu) {\n            const linkItem = (\n              <Dropdown align=\"start\" className={classNames(styles.linkBtn)} onClick={() => onMenuClick(index)}>\n                <Dropdown.Toggle size=\"sm\" className={styles.linkGroup} variant={style}>\n                  {buttonTitle}\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu>\n                  {menu.map(({ title: menuTitle, url: menuUrl }) => {\n                    return (\n                      <Dropdown.Item size=\"sm\" key={menuUrl} href={menuUrl}>\n                        {menuTitle}\n                      </Dropdown.Item>\n                    );\n                  })}\n                </Dropdown.Menu>\n              </Dropdown>\n            );\n\n            return editable ? (\n              <ContextMenu\n                // key={id}\n                data={link}\n                menu={linkMenu}\n                onOpen={() => handleLinkContextOpen(linkIndex)}\n              >\n                {linkItem}\n              </ContextMenu>\n            ) : (\n              linkItem\n            );\n          }\n\n          const button = (\n            <Button\n              as=\"a\"\n              href={url}\n              size=\"sm\"\n              date-url={url}\n              className={styles.linkBtn}\n              variant={TYPES.includes(style) ? style : 'light'}\n              style={buttonStyle}\n            >\n              {buttonTitle}\n            </Button>\n          );\n\n          if (editable) {\n            return (\n              <ContextMenu\n                // key={id}\n                data={link}\n                menu={linkMenu}\n                onOpen={() => handleLinkContextOpen(linkIndex)}\n              >\n                {button}\n              </ContextMenu>\n            );\n          }\n\n          return (\n            <OverlayTrigger\n              placement=\"top\"\n              show={typeof description === 'undefined' ? false : undefined}\n              overlay={<Tooltip>{description}</Tooltip>}\n            >\n              {button}\n            </OverlayTrigger>\n          );\n        })}\n      </Card.Body>\n    </Card>\n  );\n\n  if (editable) {\n    return (\n      <>\n        <ContextMenu menu={blockMenu}>{card}</ContextMenu>\n        <EditModal\n          visible={editVisible}\n          onClose={() => toggleEditVisible(false)}\n          onChange={handleOnChange}\n          onSave={handleSave}\n          type={editType}\n          data={editData}\n        />\n        <Confirm\n          title={dataToDelete ? dataToDelete.title : ''}\n          onClose={handleCloseConfirm}\n          visible={confirmVisible}\n          onConfirm={handleDelete}\n        />\n      </>\n    );\n  }\n\n  return card;\n}\n","import React, { useState, useCallback, useContext } from 'react';\nimport styled from 'styled-components';\nimport { BiEditAlt, BiCog, BiCheck, BiSync, BiImport, BiExport } from 'react-icons/bi';\nimport '@reach/dialog/styles.css';\nimport { Menu, MenuList, MenuButton, MenuItem } from '@reach/menu-button';\nimport { Button, Form, ListGroup, Col, Row, Badge, Toast, ToastContainer, Card } from 'react-bootstrap';\n\nimport IconText from '../IconText';\nimport OAuth from '../OAuth';\nimport { buttonStyle } from '../IconButton';\nimport SettingsContext from '../../context/settings.context';\nimport Modal from '../Modal';\n\nconst StyledHeader = styled.div`\n  position: absolute;\n  display: flex;\n  top: 16px;\n  right: 16px;\n  z-index: 2;\n`;\n\nconst StyledMenuButton = (props) => <MenuButton {...props} css={buttonStyle} />;\n\nconst Menus = styled(MenuList)`\n  background-color: #fff;\n  padding: 8px 0;\n  border-radius: 3px;\n  box-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px, rgb(15 15 15 / 10%) 0px 3px 6px, rgb(15 15 15 / 20%) 0px 9px 24px;\n`;\n\nconst StyledMenuItem = styled(MenuItem)`\n  cursor: pointer;\n  padding: 4px 16px;\n  transition: all 0.2s;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n`;\n\nfunction download(url, name) {\n  const link = document.createElement('a');\n  link.setAttribute('download', name);\n  link.href = url;\n  document.body.appendChild(link);\n  link.click();\n  link.remove();\n}\n\nexport default function Header({ onEdit, editable }) {\n  const { settings, updateSettings } = useContext(SettingsContext);\n  const [oauthVisible, setOauthVisible] = useState(false);\n  const [importVisible, setImportVisible] = useState(false);\n  const [toImport, setToImport] = useState(null);\n\n  const handleOpenSyncing = () => {\n    setOauthVisible(true);\n  };\n  const handleCloseSyncing = () => {\n    setOauthVisible(false);\n  };\n\n  const handleExport = useCallback(() => {\n    download(\n      'data:application/json;charset=UTF-8,' + encodeURIComponent(JSON.stringify(settings)),\n      'candi-tab-settings.json',\n    );\n  }, [settings]);\n\n  const handleOpenImport = useCallback(() => {\n    setImportVisible(true);\n  }, []);\n\n  const handleFileOnload = useCallback((e) => {\n    if (this.files.length) {\n      const file = e.files.item(0);\n      const reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = () => {\n        let toImport;\n        try {\n          toImport = JSON.parse(reader.result);\n        } catch (e) {\n          // return window.alert(file.name + \" doesn't seem to be a valid JSON file.\");\n        }\n\n        setToImport(toImport);\n      };\n    }\n  }, []);\n\n  const handleSaveImport = useCallback(() => {\n    updateSettings({\n      ...settings,\n      ...toImport,\n    });\n  }, [updateSettings, settings, toImport]);\n\n  return (\n    <>\n      <StyledHeader>\n        <Menu>\n          <StyledMenuButton onClick={onEdit}>{editable ? <BiCheck /> : <BiEditAlt />}</StyledMenuButton>\n        </Menu>\n        <Menu>\n          <StyledMenuButton>\n            <BiCog />\n          </StyledMenuButton>\n          <Menus>\n            <StyledMenuItem onSelect={handleOpenSyncing}>\n              <IconText text=\"Syncing\">\n                <BiSync />\n              </IconText>\n            </StyledMenuItem>\n            <StyledMenuItem onSelect={handleOpenImport}>\n              <IconText text=\"Import\">\n                <BiImport />\n              </IconText>\n            </StyledMenuItem>\n            <StyledMenuItem onSelect={handleExport}>\n              <IconText text=\"Export\">\n                <BiExport />\n              </IconText>\n            </StyledMenuItem>\n          </Menus>\n        </Menu>\n      </StyledHeader>\n      {oauthVisible && <OAuth visible={oauthVisible} onClose={handleCloseSyncing} />}\n      <Modal visible={importVisible} onClose={() => setImportVisible(false)}>\n        <Form>\n          <Modal.Header>Import setting file</Modal.Header>\n          <Modal.Body>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Setting file</Form.Label>\n              <Form.Control type=\"file\" onChange={handleFileOnload} />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Form.Group>\n              <Button variant=\"primary\" onClick={handleSaveImport}>\n                Yes\n              </Button>\n            </Form.Group>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n","import styled, { css } from 'styled-components';\n\nexport const buttonStyle = css`\n  box-sizing: content-box;\n  border: 0;\n  display: flex;\n  margin: 4px;\n  padding: 6px;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  color: #666;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  transition: all .2s;\n  border-radius: 3px;\n  background-color: transparent;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n    color: #333;\n  }\n`;\n\nconst IconButton = styled.button(buttonStyle);\n\nexport default IconButton;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrap = styled.span`\n  display: flex;\n  align-items: center;\n`;\n\nconst Text = styled.span`\n  margin-left: 0.5rem;\n`;\n\nconst Icon = styled.span`\n  display: flex;\n  font-size: 18px;\n`;\n\nexport default function IconText({ children, className, text, ...props }) {\n  return (\n    <Wrap className={className} {...props}>\n      <Icon>{children}</Icon>\n      {text && <Text>{text}</Text>}\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { BiX } from 'react-icons/bi';\nimport { Dialog } from '@reach/dialog';\n\nimport '@reach/dialog/styles.css';\n\nimport IconButton from '../IconButton';\n\nconst GlobalStyle = createGlobalStyle`\n  [data-reach-dialog-overlay] {\n    z-index: 2;\n  }\n`;\n\nconst StyledModal = styled(Dialog)`\n  position: relative;\n  border-radius: 3px;\n  box-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px, rgb(15 15 15 / 10%) 0px 3px 6px, rgb(15 15 15 / 20%) 0px 9px 24px;\n`;\n\nconst CloseButton = styled(IconButton)`\n  position: absolute;\n  z-index: 9;\n  top: 16px;\n  right: 16px;\n`;\n\nexport default function Modal({ visible, onClose, children }) {\n  return (\n    <StyledModal isOpen={visible} onDismiss={onClose}>\n      <CloseButton onClick={onClose}>\n        <BiX />\n      </CloseButton>\n      {visible && children}\n      <GlobalStyle />\n    </StyledModal>\n  );\n}\n\nModal.Header = function ModalHeader({ children }) {\n  return <h3>{children}</h3>;\n};\n\nModal.Body = function ModalBody({ children }) {\n  return <div>{children}</div>;\n};\n\nconst StyledFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n\n  & > * {\n    margin-right: 16px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nModal.Footer = function ModalFooter({ children }) {\n  return <StyledFooter>{children}</StyledFooter>;\n};\n","import { Button, Form, ListGroup, Col, Row, Badge, Toast, ToastContainer, Card } from 'react-bootstrap';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { set, get, map } from 'lodash/fp';\nimport { useQuery, useMutation, useQueryClient, QueryClient, QueryClientProvider } from 'react-query';\nimport _ from 'lodash';\nimport BarLoader from 'react-spinners/BarLoader';\n\nimport Modal from '../Modal';\nimport styles from './index.less';\nimport SettingsContext from '../../context/settings.context';\nimport * as gistService from '../../service/gist';\nimport parseGistContent from '../../utils/parseGistContent';\n\nconst spinner = (\n  <div style={{ width: '100%', height: 50, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n    <BarLoader />\n  </div>\n);\n\nconst OAUTH_URL =\n  'https://github.com/login/oauth/authorize?scope=gist&client_id=9f776027a79806fc1363&redirect_uri=https://candi-tab.vercel.app/api/github';\n\nexport default function OAuth({ visible, onClose }) {\n  const { settings, updateSettings, accessToken, updateAccessToken } = useContext(SettingsContext);\n  const [tokenValue, setTokenValue] = useState(accessToken);\n  const queryClient = useQueryClient();\n\n  useEffect(() => {\n    setTokenValue(accessToken);\n  }, [accessToken]);\n\n  const handleOnChange = (e) => {\n    setTokenValue(e.target.value);\n  };\n\n  const handleSave = useCallback(() => {\n    updateAccessToken(tokenValue);\n  }, [tokenValue, updateAccessToken]);\n\n  const createTokenNode = accessToken ? null : (\n    <Button variant=\"link\" style={{ width: '100%' }} href={OAUTH_URL} target=\"_blank\">\n      Create Access Token with github OAuth\n    </Button>\n  );\n\n  const handleCreateGist = useCallback(() => {\n    createMutation.mutate(settings);\n  }, [createMutation, settings]);\n\n  const gistId = useRef(_.get(settings, `gistId`));\n\n  const queryOne = useQuery(['gist', gistId.current], gistService.fetchOne, {\n    initialData: settings.gist,\n    enabled: !!gistId.current,\n  });\n  const { data, isLoading } = queryOne;\n\n  const handleClose = useCallback(() => {\n    onClose();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data, onClose, settings]);\n\n  const createMutation = useMutation(gistService.create, {\n    onSuccess: () => {\n      queryClient.invalidateQueries('gist');\n      console.log('Create success!');\n    },\n  });\n\n  useEffect(() => {\n    if (createMutation.status === 'success') {\n      updateSettings({\n        ...settings,\n        gistId: _.get(createMutation, 'data.data.id'),\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [createMutation, settings]);\n\n  const filename = _.chain(data).get(`data.files`).keys().head().value();\n\n  const gistNode = (\n    <Form.Group className=\"mb-3\">\n      {isLoading\n        ? spinner\n        : data && (\n            <Card border=\"primary\">\n              <Card.Header>{filename}</Card.Header>\n              <Card.Body>\n                {_.get(data, 'data.description')}\n                <br />\n                <Badge bg=\"secondary\">@{_.get(data, 'data.created_at')}</Badge>\n              </Card.Body>\n            </Card>\n          )}\n    </Form.Group>\n  );\n\n  const [gistsModalVisible, toggleGistsModalVisible] = useState(false);\n  const [selectedGist, setGist] = useState(null);\n  const handleOpenGists = useCallback(() => {\n    toggleGistsModalVisible(true);\n  }, [toggleGistsModalVisible]);\n  const queryList = useQuery('gists', gistService.fetchAll, {\n    enabled: gistsModalVisible,\n  });\n  const handleSelectGist = useCallback((gist) => {\n    gistId.current = gist.id;\n    setGist(gist);\n  }, []);\n  const handleSaveGist = useCallback(() => {\n    if (data.data) {\n      updateSettings({\n        ...settings,\n        ...parseGistContent(data.data),\n        gistId: selectedGist.id,\n      });\n    } else {\n      updateSettings({\n        ...settings,\n        gistId: selectedGist.id,\n      });\n    }\n\n    toggleGistsModalVisible(false);\n  }, [data?.data, selectedGist?.id, settings, updateSettings]);\n\n  return (\n    <>\n      <Modal visible={visible} onClose={handleClose}>\n        <Modal.Header>Syncing with github gist</Modal.Header>\n        <Modal.Body className={styles.oauthModalContent}>\n          <Form\n            className={styles.form}\n            onSubmit={(e) => {\n              e.preventDefault();\n              return;\n            }}\n          >\n            <Form.Group className=\"mb-3\">{createTokenNode}</Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Control\n                type=\"input\"\n                placeholder=\"Paste Access Token here.\"\n                autoFocus\n                onBlur={handleSave}\n                onKeyDown={(e) => {\n                  if (e.which === 13) {\n                    e.preventDefault();\n                    handleSave();\n                  }\n                }}\n                onChange={handleOnChange}\n                value={tokenValue}\n              />\n            </Form.Group>\n            {accessToken && gistNode}\n            {accessToken && !isLoading && (\n              <Form.Group className=\"mb-3\" controlId=\"url\">\n                <Row>\n                  <Col>\n                    <Button style={{ width: '100%' }} variant=\"primary\" onClick={handleCreateGist}>\n                      Create a new gist\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Button style={{ width: '100%' }} variant=\"secondary\" onClick={handleOpenGists}>\n                      Select a existing gist.\n                    </Button>\n                  </Col>\n                </Row>\n              </Form.Group>\n            )}\n          </Form>\n        </Modal.Body>\n      </Modal>\n      <Modal visible={gistsModalVisible} onClose={() => toggleGistsModalVisible(false)}>\n        <Modal.Header>Select an existing gist from your gists</Modal.Header>\n        <Modal.Body>\n          {queryList.isLoading && spinner}\n          <ListGroup style={{ margin: '16px 0' }}>\n            {_.chain(queryList)\n              .get('data.data')\n              .map((item) => (\n                <ListGroup.Item\n                  style={{ cursor: 'pointer' }}\n                  key={item.id}\n                  variant={settings.gistId === item.id ? 'primary' : null}\n                  onClick={() => handleSelectGist(item)}\n                  active={selectedGist && selectedGist.id === item.id}\n                >\n                  {item.description}\n                  <br />\n                  {_.chain(item.files)\n                    .keys()\n                    .map((filename) => (\n                      <>\n                        <Badge key={filename} bg=\"primary\">\n                          {filename}\n                        </Badge>\n                        <br />\n                      </>\n                    ))\n                    .value()}\n                  <br />\n                  <Badge bg=\"secondary\">@{item.created_at}</Badge> <Badge bg=\"info\">@{item.updated_at}</Badge>\n                </ListGroup.Item>\n              ))\n              .value()}\n          </ListGroup>\n        </Modal.Body>\n        <Modal.Footer>\n          {!queryList.isLoading && (\n            <Button variant=\"primary\" onClick={handleSaveGist}>\n              Yes\n            </Button>\n          )}\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"oauthModalContent\":\"oauthModalContent___EH60H\",\"iframe\":\"iframe___SBpqo\",\"form\":\"form___Y3Eth\",\"gist\":\"gist___xO1_m\"};","let octokit;\n\nexport function setOctokit(instance) {\n  octokit = instance;\n}\n\nexport function destroyOctokit() {\n  octokit = null;\n}\n\nexport function fetchAll() {\n  if (!octokit) {\n    return;\n  }\n\n  return octokit.rest.gists.list();\n}\n\nexport function fetchOne({ queryKey }) {\n  if (!octokit) {\n    return;\n  }\n\n  const [, gist_id] = queryKey;\n\n  return octokit.rest.gists.get({\n    gist_id,\n  });\n}\n\nexport function create(payload) {\n  octokit.rest.gists.create({\n    public: false,\n    description: 'A gist for settings syncing of candi-tab chrome extension',\n    files: {\n      'candi_tab_settings.json': {\n        content: JSON.stringify(payload),\n      },\n    },\n  });\n}\n\nexport function updateGist(payload) {\n  if (!octokit) {\n    return;\n  }\n\n  return octokit.rest.gists.update(payload);\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles.less';\n\nconst mountNode = document.getElementById('app');\nconst root = createRoot(mountNode);\nroot.render(<App />);\n","export function uuid () {\n  return `_${Math.random().toString(36).substr(2, 9)}`;\n}","import _ from 'lodash';\n\nimport { FILE_NAME } from '../constant';\n\nexport default function (data) {\n  const content = _.get(data, ['files', FILE_NAME, 'content']);\n  let result;\n  try {\n    result = JSON.parse(content);\n  } catch (err) {\n    console.warn(err);\n  }\n\n  return result;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"spinner___lr8Ys\",\"main\":\"main___UPh_x\",\"editBtn\":\"editBtn___O6j8d\",\"blockActive\":\"blockActive___KM2IQ\",\"dropdown\":\"dropdown___B0c2O\"};"],"names":["queryClient","QueryClient","Grid","styled","GridLayout","App","useContext","SettingsContext","settings","updateSettings","useState","editable","toggleEditable","activeBlockIndex","setActiveBlockIndex","layouts","_","get","map","item","layout","value","handleLayoutChange","useCallback","Date","now","window","initialTime","console","log","newLinks","links","index","newSettings","createdAt","getTime","setTimeout","document","dispatchEvent","CustomEvent","handleSetActiveBlockIndex","className","styles","key","id","classNames","Block","block","onMenuClick","Header","onEdit","draggableHandle","isResizable","isDraggable","isDroppable","onLayoutChange","cols","rowHeight","width","withOauth","Comp","props","useStorage","accessToken","setAccessToken","useSettings","useEffect","useMemo","updateAccessToken","gistService","Octokit","auth","updateMutation","useMutation","successToastVisible","toggleSuccessToastVisible","errorToastVisible","toggleErrorToastVisible","isSuccess","isError","gistId","queryOne","useQuery","enabled","data","isLoading","settingsContent","parseGistContent","handleUploadGist","mutate","gist_id","public","description","GIST_DESCRIPTION","files","FILE_NAME","content","JSON","stringify","status","addEventListener","removeEventListener","toastStyle","ToastContainer","position","style","color","right","bottom","containerPosition","Toast","autohide","show","bg","delay","onClose","closeButton","error","message","withQuery","Component","QueryClientProvider","client","ReactQueryDevtools","initialIsOpen","hot","TYPES","UPLOAD_EVENT","DOWNLOAD_EVENT","createContext","save","set","load","isChrome","chrome","storage","Promise","resolve","reject","local","store","parse","localStorage","getItem","err","payload","setItem","defaultSettings","require","setIds","update","blocks","extra","uuid","mapLink","link","withId","buttons","setSettings","then","result","_value","setValue","warn","undefined","StylePicker","onChange","handleChangeStyle","type","target","Tabs","defaultActiveKey","Tab","eventKey","title","ButtonGroup","Button","variant","onClick","Form","defaultValue","LinkForm","menu","isMenu","toggleIsMenu","handleOnChange","field","e","handleDeleteMenu","compose","fpGet","items","filter","popover","Popover","buttonStyle","backgroundColor","controlId","placeholder","autoFocus","checked","url","pick","label","InputGroup","OverlayTrigger","trigger","placement","overlay","size","IconText","text","DragOutlined","concat","as","rows","BlockForm","FormSet","Link","EditModal","EditForm","upperFirst","Modal","onSave","hexToRgb","hex","exec","r","parseInt","g","b","rgbString2Obj","rgb","replace","split","Confirm","visible","onConfirm","editVisible","toggleEditVisible","editType","setEditType","editData","setEditData","activeLinkIndex","setActiveLinkIndex","isAddition","toggleAddition","confirmVisible","toggleConfirmVisible","dataToDelete","setDataToDelete","handleAddLink","handleLinkContextOpen","blockMenu","w","h","x","y","linkMenu","card","Card","length","linkIndex","buttonTitle","startsWith","isDark","Math","sqrt","linkItem","Dropdown","align","menuTitle","menuUrl","href","onOpen","button","Tooltip","path","StyledHeader","StyledMenuButton","Menus","MenuList","StyledMenuItem","MenuItem","download","name","createElement","setAttribute","body","appendChild","click","remove","oauthVisible","setOauthVisible","importVisible","setImportVisible","toImport","setToImport","handleExport","encodeURIComponent","handleOpenImport","handleFileOnload","file","reader","FileReader","readAsText","onload","handleSaveImport","onSelect","css","IconButton","Wrap","Text","Icon","children","GlobalStyle","createGlobalStyle","StyledModal","Dialog","CloseButton","isOpen","onDismiss","Body","StyledFooter","Footer","spinner","height","display","alignItems","justifyContent","OAUTH_URL","OAuth","tokenValue","setTokenValue","useQueryClient","handleSave","createTokenNode","handleCreateGist","createMutation","useRef","current","initialData","gist","handleClose","onSuccess","invalidateQueries","filename","keys","head","gistNode","border","Badge","gistsModalVisible","toggleGistsModalVisible","selectedGist","setGist","handleOpenGists","queryList","handleSelectGist","handleSaveGist","onSubmit","preventDefault","onBlur","onKeyDown","which","Row","Col","ListGroup","margin","cursor","active","created_at","updated_at","octokit","setOctokit","instance","destroyOctokit","fetchAll","rest","gists","list","fetchOne","queryKey","create","updateGist","mountNode","getElementById","root","createRoot","render","random","toString","substr"],"sourceRoot":""}