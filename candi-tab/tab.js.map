{"version":3,"file":"tab.js","mappings":"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","sources":["webpack://candi-tab/./src/App.js","webpack://candi-tab/./src/AppStyle.js","webpack://candi-tab/./src/const.js","webpack://candi-tab/./src/constant.js","webpack://candi-tab/./src/context/settings.context.js","webpack://candi-tab/./src/globalStyle.js","webpack://candi-tab/./src/assets/bg.png","webpack://candi-tab/./src/hooks/settings.js","webpack://candi-tab/./src/hooks/storage.js","webpack://candi-tab/./src/hooks/useSettings.js","webpack://candi-tab/./src/hooks/useStorage.js","webpack://candi-tab/./src/partials/Block/BlockStyle.js","webpack://candi-tab/./src/partials/Block/EditModal/ModalStyle.js","webpack://candi-tab/./src/partials/Block/EditModal/index.js","webpack://candi-tab/./src/partials/Block/index.js","webpack://candi-tab/./src/partials/Header/index.js","webpack://candi-tab/./src/partials/IconButton/index.js","webpack://candi-tab/./src/partials/IconText/index.js","webpack://candi-tab/./src/partials/Modal/index.js","webpack://candi-tab/./src/partials/OAuth/OAuthStyle.js","webpack://candi-tab/./src/partials/OAuth/index.js","webpack://candi-tab/./src/service/candi.js","webpack://candi-tab/./src/service/gist.js","webpack://candi-tab/./src/tab.js","webpack://candi-tab/./src/utils.js","webpack://candi-tab/./src/utils/parseGistContent.js"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useMemo, useState } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport GridLayout from 'react-grid-layout';\nimport classNames from 'classnames';\nimport { Octokit } from '@octokit/rest';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\nimport { QueryClient, QueryClientProvider, useMutation, useQuery } from '@tanstack/react-query';\nimport _ from 'lodash';\nimport { set } from 'lodash/fp';\nconst queryClient = new QueryClient();\nimport { Toast, ToastContainer, Button } from 'react-bootstrap';\nimport styled from 'styled-components';\nimport BarLoader from 'react-spinners/BarLoader';\n\nimport useStorage from './hooks/useStorage';\nimport Header from './partials/Header';\nimport Block from './partials/Block';\nimport useSettings from './hooks/useSettings';\nimport SettingsContext from './context/settings.context';\nimport * as gistService from './service/gist';\nimport { FILE_NAME, GIST_DESCRIPTION } from './constant';\nimport parseGistContent from './utils/parseGistContent';\nimport EditModal from './partials/Block/EditModal';\nimport { uuid } from './utils';\nimport GlobalStyle from './globalStyle';\nimport AppStyle from './AppStyle';\n\nconst Grid = styled(GridLayout)`\n  margin: 48px 0;\n`;\n\nfunction App() {\n  const { settings, updateSettings } = useContext(SettingsContext);\n  const [editable, toggleEditable] = useState(false);\n  const [activeBlockIndex, setActiveBlockIndex] = useState('');\n  const layouts = _.chain(settings)\n    .get('links')\n    .map((item) => item.layout)\n    .value();\n  const [firstBlock, setFirstBlockData] = useState('');\n  const [fistBlockVisible, toggleFirstBlockVisible] = useState(false);\n\n  const handleLayoutChange = useCallback(\n    (layout) => {\n      if (Date.now() - window.initialTime < 1000) {\n        console.log('Should not update settings');\n        return;\n      }\n      const newLinks = settings.links.map((item, index) => {\n        return { ...item, layout: layout[index] };\n      });\n\n      const newSettings = {\n        ...settings,\n        links: newLinks,\n      };\n\n      newSettings.createdAt = new Date().getTime();\n      setTimeout(() => {\n        document.dispatchEvent(new CustomEvent('sync-upload'));\n      }, 1000);\n\n      updateSettings(newSettings);\n    },\n    [settings, updateSettings],\n  );\n\n  const handleToggleEditable = () => {\n    toggleEditable(!editable);\n  };\n\n  const handleSetActiveBlockIndex = (index) => {\n    setActiveBlockIndex(index);\n  };\n\n  const handleCreateFirstBlock = useCallback(() => {\n    toggleEditable(true);\n    toggleFirstBlockVisible(true);\n    setFirstBlockData({\n      id: uuid(),\n      title: '',\n      buttons: [],\n      layout: {\n        w: 2,\n        h: 8,\n        x: 0,\n        y: 0,\n      },\n    });\n  }, []);\n\n  const handleSaveFirstBlock = useCallback(() => {\n    updateSettings(set(`links[0]`)(firstBlock)(settings));\n  }, [updateSettings, firstBlock, settings]);\n\n  const handleBlockChange = useCallback(\n    (field) => (value) => {\n      setFirstBlockData(set(field)(value)(firstBlock));\n    },\n    [firstBlock],\n  );\n\n  if (!settings) {\n    return (\n      <div className=\"spinner\">\n        <BarLoader />\n      </div>\n    );\n  }\n\n  const links = settings.links.map((item, index) => {\n    return (\n      <div key={item.id}>\n        <div\n          data-grid={item.layout}\n          className={classNames('block-wrap', {\n            blockActive: activeBlockIndex === index,\n          })}\n        >\n          <Block\n            editable={editable}\n            settings={settings}\n            updateSettings={updateSettings}\n            block={item}\n            index={index}\n            onMenuClick={handleSetActiveBlockIndex}\n          />\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <AppStyle\n      className={classNames('main', {\n        editable,\n      })}\n    >\n      <Header onEdit={handleToggleEditable} editable={editable} />\n      {links.length ? (\n        <Grid\n          layout={layouts}\n          draggableHandle=\".card-header\"\n          isResizable={editable}\n          isDraggable={editable}\n          isDroppable={editable}\n          onLayoutChange={handleLayoutChange}\n          className=\"layout\"\n          cols={12}\n          rowHeight={4}\n          width={1200}\n          margin={[0, 0]}\n          resizeHandles={['e', 'w']}\n        >\n          {links}\n        </Grid>\n      ) : (\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            height: '80vh',\n          }}\n        >\n          <Button size=\"lg\" onClick={handleCreateFirstBlock}>\n            Create first block\n          </Button>\n          <EditModal\n            data={firstBlock}\n            onChange={handleBlockChange}\n            onSave={handleSaveFirstBlock}\n            type=\"block\"\n            visible={fistBlockVisible}\n            onClose={() => toggleFirstBlockVisible(false)}\n          />\n        </div>\n      )}\n    </AppStyle>\n  );\n}\n\nfunction withOauth(Comp) {\n  return function OauthWrapper(props) {\n    const [accessToken, setAccessToken] = useStorage('accessToken');\n    const [settings, updateSettings] = useSettings();\n    const gistId = _.get(settings, `gistId`);\n\n    useEffect(() => {\n      window.initialTime = new Date().getTime();\n    }, []);\n\n    const value = useMemo(() => {\n      return {\n        updateSettings,\n        settings,\n        accessToken,\n        updateAccessToken: setAccessToken,\n      };\n    }, [updateSettings, settings, accessToken, setAccessToken]);\n\n    useEffect(() => {\n      if (accessToken) {\n        gistService.setOctokit(\n          new Octokit({\n            auth: accessToken,\n          }),\n        );\n\n        return () => {\n          gistService.destroyOctokit();\n        };\n      }\n    }, [accessToken]);\n\n    const updateMutation = useMutation(gistService.updateGist, {\n      enabled: !!gistId && !!accessToken,\n    });\n    const [successToastVisible, toggleSuccessToastVisible] = useState(false);\n    const [errorToastVisible, toggleErrorToastVisible] = useState(false);\n    useEffect(() => {\n      if (updateMutation.isSuccess) {\n        toggleSuccessToastVisible(true);\n      }\n    }, [updateMutation.isSuccess]);\n    useEffect(() => {\n      if (updateMutation.isError) {\n        toggleErrorToastVisible(true);\n      }\n    }, [updateMutation.isError]);\n\n    const queryOne = useQuery(['gist', gistId], gistService.fetchOne, {\n      enabled: !!gistId,\n      initialData: {},\n    });\n\n    const settingsContent = parseGistContent(_.get(queryOne, 'data.data'));\n\n    // 上传gist\n    const handleUploadGist = useCallback(() => {\n      if (!settings || !_.get(settings, 'gistId')) {\n        return;\n      }\n\n      if (settingsContent && settingsContent.createdAt > settings.createdAt) {\n        return;\n      }\n\n      updateMutation.mutate({\n        gist_id: _.get(settings, 'gistId'),\n        public: false,\n        description: GIST_DESCRIPTION,\n        files: {\n          [FILE_NAME]: {\n            content: JSON.stringify(settings),\n          },\n        },\n      });\n    }, [settings, settingsContent, updateMutation]);\n\n    useEffect(() => {\n      if (queryOne.status === 'success' && settingsContent?.createdAt > settings?.createdAt) {\n        updateSettings(settingsContent);\n      }\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [queryOne.status, settings?.createdAt, settingsContent]);\n\n    useEffect(() => {\n      document.addEventListener('sync-upload', handleUploadGist);\n\n      return () => {\n        document.removeEventListener('sync-upload', handleUploadGist);\n      };\n    }, [handleUploadGist]);\n\n    const toastStyle = {\n      width: 'auto',\n    };\n\n    return (\n      <SettingsContext.Provider value={value}>\n        <Comp {...props} />\n        <ToastContainer\n          position=\"bottom-end-2\"\n          style={{ color: '#fff', right: 10, bottom: 10 }}\n          containerPosition=\"fixed\"\n        >\n          <Toast autohide style={toastStyle} show={updateMutation.isLoading || queryOne.isLoading}>\n            <Toast.Body>\n              <BarLoader />\n            </Toast.Body>\n          </Toast>\n          <Toast\n            autohide\n            style={toastStyle}\n            bg=\"success\"\n            delay={2000}\n            show={successToastVisible}\n            onClose={() => toggleSuccessToastVisible(false)}\n          >\n            <Toast.Body>Upload success</Toast.Body>\n          </Toast>\n          <Toast\n            autohide\n            style={toastStyle}\n            bg=\"danger\"\n            delay={5000}\n            show={errorToastVisible}\n            onClose={() => toggleErrorToastVisible(false)}\n          >\n            <Toast.Header closeButton={false}>Upload failed</Toast.Header>\n            <Toast.Body>{updateMutation.error?.message}</Toast.Body>\n          </Toast>\n        </ToastContainer>\n      </SettingsContext.Provider>\n    );\n  };\n}\n\nfunction withQuery(Component) {\n  return function QueryWrapped(props) {\n    return (\n      <QueryClientProvider client={queryClient}>\n        <GlobalStyle />\n        <Component {...props} />\n        <ReactQueryDevtools initialIsOpen={false} />\n      </QueryClientProvider>\n    );\n  };\n}\n\nexport default hot(withQuery(withOauth(App)));\n","import styled from 'styled-components';\n\nconst StyledApp = styled.section`\n  width: 1200px;\n  margin-top: 1rem;\n\n  .spinner {\n    min-height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .editBtn {\n    line-height: 100%;\n\n    button {\n      padding: 0 0.4rem;\n    }\n  }\n  .blockActive {\n    z-index: 2;\n  }\n`;\n\nexport default StyledApp;\n","export const TYPES = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];","export const FILE_NAME = 'candi_tab_settings.json';\nexport const GIST_DESCRIPTION = 'A gist for settings syncing of candi-tab chrome extension';\nexport const UPLOAD_EVENT = 'sync-upload';\nexport const DOWNLOAD_EVENT = 'sync-download';\nexport const TYPES = ['primary', 'secondary', 'success', 'danger', 'warning', 'info', 'light', 'dark'];\n","import { createContext } from 'react';\n\nconst settings = {};\n\nexport default createContext(settings);\n","import { createGlobalStyle } from 'styled-components';\n\nimport bg from './assets/bg.png';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background-image: url(${bg});\n    background-repeat: repeat;\n    background-attachment: fixed;\n    background-position: initial;\n  }\n\n  #app {\n    display: flex;\n    justify-content: center;\n  }\n\n  .editable {\n    .react-grid-item > .react-resizable-handle {\n      display: block;\n    }\n  }\n\n  .react-grid-layout {\n    position: relative;\n    transition: height 200ms ease;\n  }\n  .react-grid-item {\n    transition: all 200ms ease;\n    transition-property: left, top;\n  }\n  .react-grid-item.cssTransforms {\n    transition-property: transform;\n  }\n  .react-grid-item.resizing {\n    z-index: 1;\n    will-change: width, height;\n  }\n\n  .react-grid-item.react-draggable-dragging {\n    transition: none;\n    z-index: 3;\n    will-change: transform;\n  }\n\n  .react-grid-item.react-grid-placeholder {\n    background: blue;\n    opacity: 0.2;\n    transition-duration: 100ms;\n    z-index: 2;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    -o-user-select: none;\n    user-select: none;\n  }\n\n  .react-resizable-handle-w {\n    bottom: 50%;\n    transform: translateY(50%);\n    cursor: w-resize;\n    left: 4px;\n  }\n\n  .react-resizable-handle-e {\n    bottom: 50%;\n    transform: translateY(50%);\n    right: 4px;\n    cursor: e-resize;\n  }\n\n  .react-grid-item > .react-resizable-handle {\n    display: none;\n    position: absolute;\n    width: 10px;\n    height: 100%;\n    /* bottom: 0;\n    right: 0; */\n    background: none;\n    /* background: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjQ5NjYzMjg4NjQ0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI4NDAiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNOTM4LjY2NjY2NyA5MzguNjY2NjY3IDg1My4zMzMzMzMgOTM4LjY2NjY2NyA4NTMuMzMzMzMzIDg1My4zMzMzMzMgOTM4LjY2NjY2NyA4NTMuMzMzMzMzIDkzOC42NjY2NjcgOTM4LjY2NjY2N005MzguNjY2NjY3IDc2OCA4NTMuMzMzMzMzIDc2OCA4NTMuMzMzMzMzIDY4Mi42NjY2NjcgOTM4LjY2NjY2NyA2ODIuNjY2NjY3IDkzOC42NjY2NjcgNzY4TTc2OCA5MzguNjY2NjY3IDY4Mi42NjY2NjcgOTM4LjY2NjY2NyA2ODIuNjY2NjY3IDg1My4zMzMzMzMgNzY4IDg1My4zMzMzMzMgNzY4IDkzOC42NjY2NjdNNzY4IDc2OCA2ODIuNjY2NjY3IDc2OCA2ODIuNjY2NjY3IDY4Mi42NjY2NjcgNzY4IDY4Mi42NjY2NjcgNzY4IDc2OE01OTcuMzMzMzMzIDkzOC42NjY2NjcgNTEyIDkzOC42NjY2NjcgNTEyIDg1My4zMzMzMzMgNTk3LjMzMzMzMyA4NTMuMzMzMzMzIDU5Ny4zMzMzMzMgOTM4LjY2NjY2N005MzguNjY2NjY3IDU5Ny4zMzMzMzMgODUzLjMzMzMzMyA1OTcuMzMzMzMzIDg1My4zMzMzMzMgNTEyIDkzOC42NjY2NjcgNTEyIDkzOC42NjY2NjcgNTk3LjMzMzMzM1oiIHAtaWQ9IjI4NDEiPjwvcGF0aD48L3N2Zz4='); */\n    background-position: bottom right;\n    background-repeat: no-repeat;\n    background-origin: content-box;\n    box-sizing: border-box;\n  }\n\n  /* context-menu */\n  .menu-item {\n    font-size: 14px;\n  }\n`;\n\nexport default GlobalStyle;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABZ0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMDvo9WkAAADESURBVEhLlc0xEoQwDMBA/v/YlFcfYDEQcGJF/Y6232JtsbUBSLeThQFIF8oOQDqYHIB0sLN6ANLBrooBSAd7NBuAdLC+4QCkg33KByAdLCsZgHSwQe8BSAcb1w1AOti0ewDSwaoYgHShTMcApAsp20A6nG5tANLtZGEA0oWyA5AOJgcgHeysHoB0sKtiANLBHs0GIB2sbzgA6WCf8gFIB8tKBiAdbNB7ANLBxnUDkA427R6AdLAqBiBdKNMxAOlCqlr7A5PnWKbfWQbaAAAAAElFTkSuQmCC\"","import { set, get } from './storage';\n\nexport function save(settings) {\n  return set('settings', settings);\n}\n\nexport function load() {\n  return get('settings');\n}","import _ from 'lodash';\n\nconst isChrome = !!(chrome && chrome.storage);\n\nexport function get(key) {\n  return new Promise((resolve, reject) => {\n    try {\n      if (isChrome) {\n        chrome.storage.local.get((store) => {\n          resolve(_.get(store, key));\n        });\n      } else {\n        resolve(JSON.parse(localStorage.getItem(key)));\n      }\n    } catch (err) {\n      reject(err);\n    }\n  });\n}\n\nexport function set(key, payload) {\n  return new Promise((resolve, reject) => {\n    if (isChrome) {\n      chrome.storage.local.set({ [key]: payload }, () => {\n        resolve(true);\n      });\n    } else {\n      try {\n        localStorage.setItem(key, JSON.stringify(payload));\n        resolve(true);\n      } catch (err) {\n        reject(err);\n      }\n    }\n  });\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { update } from 'lodash/fp';\n\nimport { save, load } from './settings';\nimport { uuid } from '../utils';\n\nconst defaultSettings = require('../default-settings.json');\n\nconst setIds = update('links')((blocks) =>\n  blocks.map((block) => {\n    const extra = {\n      id: uuid(),\n    };\n\n    const mapLink = (link) => {\n      const withId = {\n        id: uuid(),\n      };\n\n      if (!link.id) {\n        return {\n          ...link,\n          ...withId,\n        };\n      }\n\n      return link;\n    };\n\n    if (!block.id) {\n      return {\n        ...block,\n        ...extra,\n        buttons: block.buttons.map(mapLink),\n      };\n    }\n    return {\n      ...block,\n      buttons: block.buttons.map(mapLink),\n    };\n  }),\n);\n\nexport default function useSettings() {\n  const [settings, setSettings] = useState(null);\n  // const manifest = chrome.runtime.getManifest();\n  useEffect(() => {\n    load().then((result) => {\n      const newSettings = setIds({ ...defaultSettings, ...result });\n      setSettings(newSettings);\n    });\n  }, []);\n\n  const updateSettings = useCallback((newSettings) => {\n    const _value = {\n      ...newSettings,\n    };\n\n    setSettings(() => {\n      return _value;\n    });\n    save(_value);\n  }, []);\n\n  return [settings, updateSettings];\n}\n","import { useCallback, useEffect, useState } from 'react';\n\nimport * as storage from './storage';\n\nexport default function useStorage(key) {\n  const [value, setValue] = useState();\n\n  useEffect(() => {\n    try {\n      storage.get(key).then((result) => {\n        setValue(result);\n      });\n    } catch (err) {\n      console.warn(err);\n      setValue(undefined);\n    }\n  }, [key]);\n\n  const handleUpdate = useCallback(\n    (payload) => {\n      try {\n        setValue(payload);\n        storage.set(key, payload);\n      } catch (err) {\n        console.warn(err);\n      }\n    },\n    [key],\n  );\n\n  return [value, handleUpdate];\n}\n","import styled from 'styled-components';\n\nconst StyledBlock = styled.div`\n  padding: 8px;\n\n  .card {\n    height: 100%;\n  }\n\n  .card-header {\n    display: flex;\n    justify-content: space-between;\n    user-select: none;\n    .editable & {\n      cursor: move;\n    }\n  }\n\n  .block-content {\n    display: flex;\n    flex-direction: column;\n  }\n\n  .link-btn {\n    margin-top: 0.5rem;\n\n    &:first-child {\n      margin-top: 0;\n    }\n  }\n\n  .link-group {\n    width: 100%;\n  }\n\n  .block-edit {\n    cursor: pointer;\n  }\n\n  .add-bth {\n    border: 1px dashed #ccc;\n    &:hover {\n      border: 1px dashed #ccc;\n    }\n  }\n`;\n\nexport default StyledBlock;\n","import styled from 'styled-components';\n\nconst StyledBody = styled.div`\n  .color-tab + .tab-content {\n    padding: 1rem 0;\n  }\n\n  .style-btn {\n    width: 3rem;\n  }\n\n  .move-link {\n    cursor: move !important;\n  }\n`;\n\nexport default StyledBody;\n","import React, { useCallback, useState } from 'react';\nimport classNames from 'classnames';\nimport { DragOutlined } from '@ant-design/icons';\nimport upperFirst from 'lodash/upperFirst';\nimport pick from 'lodash/pick';\nimport get from 'lodash/get';\nimport update from 'lodash/fp/update';\nimport compose from 'lodash/fp/compose';\nimport fpGet from 'lodash/fp/get';\nimport { Button, Form, Tabs, Tab, ButtonGroup, Popover, InputGroup, OverlayTrigger } from 'react-bootstrap';\n\nimport { uuid } from '../../../utils';\nimport { TYPES } from '../../../const';\nimport IconText from '../../IconText';\nimport Modal from '../../../partials/Modal';\nimport StyledBody from './ModalStyle';\n\nconst StylePicker = ({ value, onChange, className, ...props }) => {\n  const handleChangeStyle = (type) => {\n    if (onChange) {\n      onChange(typeof type === 'object' ? type.target.value : type);\n    }\n  };\n\n  return (\n    <div>\n      <Tabs\n        className={classNames('color-tab', className)}\n        defaultActiveKey=\"preset\"\n        id=\"uncontrolled-tab-example\"\n        {...props}\n      >\n        <Tab eventKey=\"preset\" title=\"Built-in\">\n          <ButtonGroup className=\"me-2\" aria-label=\"Second group\">\n            {TYPES.map((type) => (\n              <Button key={type} variant={type} onClick={() => handleChangeStyle(type)} />\n            ))}\n          </ButtonGroup>\n        </Tab>\n        <Tab eventKey=\"custom\" title=\"Color\">\n          <Form.Control\n            type=\"color\"\n            defaultValue=\"#563d7c\"\n            title=\"Choose your color\"\n            value={value}\n            onChange={handleChangeStyle}\n          />\n        </Tab>\n      </Tabs>\n    </div>\n  );\n};\n\nconst LinkForm = ({ data, onChange, onClose, onSave }) => {\n  const [isMenu, toggleIsMenu] = useState(!!data.menu);\n  const handleOnChange = (field) => (e) => {\n    onChange(field)(e.target ? e.target.value : e);\n  };\n\n  const handleToggleIsMenu = () => {\n    if (!isMenu) {\n      onChange('menu')(data.url ? [{ id: uuid(), ...pick(data, ['title', 'url']) }] : []);\n      onChange('url')(undefined);\n    } else {\n      onChange('menu')(undefined);\n      onChange('url')(data.menu ? get(data.menu, [0, 'url']) : '');\n    }\n    toggleIsMenu(!isMenu);\n  };\n\n  const handleAddMenu = () => {\n    onChange('menu')(\n      compose(\n        fpGet('menu'),\n        update('menu')((items) => (items || []).concat([{ id: uuid(), title: 'untitled', url: '' }])),\n      )(data),\n    );\n  };\n\n  const handleDeleteMenu = (id) => () => {\n    onChange('menu')(\n      compose(\n        fpGet('menu'),\n        update('menu')((items) => (items || []).filter((item) => item.id !== id)),\n      )(data),\n    );\n  };\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      onSave();\n    },\n    [onSave],\n  );\n\n  const popover = (\n    <Popover>\n      <Popover.Body>\n        <StylePicker onChange={handleOnChange('style')} value={data.style} />\n      </Popover.Body>\n    </Popover>\n  );\n\n  const buttonStyle = TYPES.includes(data.style)\n    ? {}\n    : {\n        backgroundColor: data.style,\n      };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group className=\"mb-3\" controlId=\"title\">\n        <Form.Label>Name</Form.Label>\n        <Form.Control\n          type=\"input\"\n          placeholder=\"Type link name here\"\n          autoFocus\n          onChange={handleOnChange('title')}\n          value={data.title}\n        />\n      </Form.Group>\n\n      <Form.Group className=\"mb-3\" controlId=\"isMenu\">\n        <Form.Check type=\"checkbox\" checked={isMenu} onChange={handleToggleIsMenu} label=\"Convert to Menu\" />\n      </Form.Group>\n\n      {!isMenu && (\n        <Form.Group className=\"mb-3\" controlId=\"url\">\n          <Form.Label>Link</Form.Label>\n          <InputGroup className=\"mb-3\">\n            <OverlayTrigger trigger=\"click\" placement=\"bottom\" overlay={popover}>\n              <Button\n                variant={TYPES.includes(data.style) ? data.style : 'light'}\n                className=\"style-btn\"\n                style={buttonStyle}\n              />\n            </OverlayTrigger>\n\n            <Form.Control\n              type=\"input\"\n              placeholder=\"Type link name here\"\n              onChange={handleOnChange('url')}\n              value={data.url}\n            />\n          </InputGroup>\n        </Form.Group>\n      )}\n\n      {isMenu && (\n        <Form.Group className=\"mb-3\" controlId=\"url\">\n          <Form.Label>Links</Form.Label>\n          {data.menu &&\n            data.menu.map((item, index) => (\n              <InputGroup className=\"mb-3\" key={item.id}>\n                <Button size=\"sm\" variant=\"secondary\" className=\"move-link\" onClick={handleDeleteMenu(item.id)}>\n                  <IconText text=\"\">\n                    <DragOutlined />\n                  </IconText>\n                </Button>\n                <Form.Control type=\"input\" onChange={handleOnChange(`menu[${index}].title`)} value={item.title} />\n                <Form.Control type=\"input\" onChange={handleOnChange(`menu[${index}].url`)} value={item.url} />\n                <Button size=\"sm\" variant=\"danger\" onClick={handleDeleteMenu(item.id)}>\n                  Delete\n                </Button>\n              </InputGroup>\n            ))}\n          <div className=\"d-grid gap-2\">\n            <Button variant=\"primary\" onClick={handleAddMenu} size=\"sm\">\n              Add link\n            </Button>\n          </div>\n        </Form.Group>\n      )}\n      <Form.Group className=\"mb-3\" controlId=\"description\">\n        <Form.Label>Description</Form.Label>\n        <Form.Control value={data.description} onChange={handleOnChange('description')} as=\"textarea\" rows={3} />\n      </Form.Group>\n    </Form>\n  );\n};\n\nconst BlockForm = ({ data, onChange, onClose, onSave }) => {\n  const handleOnChange = (field) => (e) => {\n    onChange(field)(e.target.value);\n  };\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      onSave();\n    },\n    [onSave],\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Form.Group className=\"mb-3\" controlId=\"title\">\n        <Form.Label>Title</Form.Label>\n        <Form.Control\n          type=\"input\"\n          placeholder=\"Block title\"\n          autoFocus\n          onChange={handleOnChange('title')}\n          value={data.title}\n        />\n      </Form.Group>\n    </Form>\n  );\n};\n\nconst FormSet = {\n  Link: LinkForm,\n  Block: BlockForm,\n};\n\nexport default function EditModal({ data, type, onChange, ...props }) {\n  const EditForm = FormSet[upperFirst(type)];\n  return (\n    <Modal {...props} onClose={props.onClose}>\n      <Modal.Header closeButton>{data.title || 'untitled'}</Modal.Header>\n      <Modal.Body>\n        <StyledBody>\n          <EditForm data={data} onChange={onChange} onSave={props.onSave} onClose={props.onClose} />\n        </StyledBody>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={props.onClose}>\n          Close\n        </Button>\n        <Button onClick={props.onSave}>Save</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n","import React, { useCallback, useEffect, useState, useRef } from 'react';\nimport { Button, Card, Dropdown, Tooltip, OverlayTrigger } from 'react-bootstrap';\nimport { BiEditAlt, BiListPlus, BiTrash, BiPlusCircle } from 'react-icons/bi';\nimport ContextMenu from 'lina-context-menu';\nimport { set, update, concat } from 'lodash/fp';\nimport _ from 'lodash';\nimport styled from 'styled-components';\n\nimport { uuid } from '../../utils';\nimport EditModal from './EditModal';\nimport Modal from '../Modal';\nimport { TYPES } from '../../const';\nimport StyledBlock from './BlockStyle';\n\nconst iconStyle = {\n  fontSize: 16,\n};\n\nfunction hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result\n    ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16),\n      }\n    : null;\n}\n\nfunction rgbString2Obj(rgb) {\n  const [r, g, b] = rgb.replace(/rgb|\\(\\|\\)/, '').split(' ');\n  return {\n    r: parseInt(r),\n    g: parseInt(g),\n    b: parseInt(b),\n  };\n}\n\nconst Confirm = ({ title, visible, onConfirm, onClose }) => {\n  return (\n    <Modal visible={visible} onClose={onClose}>\n      <Modal.Header closeButton>Confirm</Modal.Header>\n      <Modal.Body>\n        Are you sure to delete <strong>{title}</strong>?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onClose}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" autoFocus onClick={onConfirm}>\n          Confirm\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nconst blockStyle = {\n  blockPadding: 16,\n  linkMargin: 8,\n  blockMargin: 8,\n};\n\nexport default function Block({ block, onMenuClick, settings, updateSettings, index, editable }) {\n  const { buttons: links, title } = block;\n  const [editVisible, toggleEditVisible] = useState(false);\n  const [editType, setEditType] = useState('block');\n  const [editData, setEditData] = useState(block);\n  const [activeLinkIndex, setActiveLinkIndex] = useState(-1);\n  const [isAddition, toggleAddition] = useState(null);\n  const [confirmVisible, toggleConfirmVisible] = useState(false);\n  const [dataToDelete, setDataToDelete] = useState(null);\n\n  const blockBodyRef = useRef(null);\n  const blockHeaderRef = useRef(null);\n\n  useEffect(() => {\n    document.addEventListener('candi-add-block', handleAddBlock);\n\n    return () => {\n      document.removeEventListener('candi-add-block', handleAddBlock);\n    };\n  }, [handleAddBlock]);\n\n  /**\n   * 动态更新block尺寸\n   */\n  const updateLayout = useCallback(\n    (inputSettings) => {\n      if (!blockBodyRef.current || !blockHeaderRef.current) {\n        return;\n      }\n\n      setTimeout(() => {\n        const headerHeight = blockHeaderRef.current.offsetHeight;\n        const linkSize = blockBodyRef.current.childNodes.length;\n        const linkHeight = _.chain(blockBodyRef.current.childNodes)\n          .map((item) => {\n            return item.offsetHeight;\n          })\n          .reduce((memo, cur) => {\n            return memo + cur;\n          }, 0)\n          .value();\n\n        updateSettings(\n          update(`links[${index}]`)((blockItem) => {\n            return {\n              ...blockItem,\n              layout: {\n                ...blockItem.layout,\n                h:\n                  (linkHeight +\n                    (linkSize - 1) * blockStyle.linkMargin +\n                    blockStyle.blockPadding * 2 +\n                    blockStyle.blockMargin * 2 +\n                    headerHeight) /\n                  4,\n              },\n            };\n          })(inputSettings),\n        );\n      });\n    },\n    [index, updateSettings],\n  );\n\n  /**\n   * 编辑block\n   */\n  const handleEditBlock = () => {\n    setEditType('block');\n    toggleEditVisible(true);\n    setEditData(block);\n  };\n\n  /**\n   * 编辑Link\n   */\n  const handleEditLink = (e, _, link) => {\n    setEditType('link');\n    toggleEditVisible(true);\n    setEditData(link);\n  };\n\n  /**\n   * 编辑表单\n   */\n  const handleOnChange = (field) => (value) => {\n    setEditData(set(field)(value)(editData));\n  };\n\n  /**\n   * 保存表单\n   */\n  const handleSave = () => {\n    let newSettings = _.cloneDeep(settings);\n    if (isAddition) {\n      if (editType === 'link') {\n        newSettings.links[index].buttons.splice(activeLinkIndex + 1, 0, editData);\n      } else {\n        newSettings = update('links')((blocks) => concat(blocks || [])([editData]))(newSettings);\n      }\n    } else {\n      if (editType === 'link') {\n        newSettings = set(`links[${index}].buttons[${activeLinkIndex}]`)(editData)(newSettings);\n      } else {\n        newSettings = set(`links[${index}]`)(editData)(newSettings);\n      }\n    }\n\n    newSettings.createdAt = new Date().getTime();\n    updateSettings(newSettings);\n    toggleEditVisible(false);\n    toggleAddition(false);\n    setTimeout(() => {\n      document.dispatchEvent(new CustomEvent('sync-upload'));\n    }, 1000);\n    updateLayout(newSettings);\n  };\n\n  /**\n   * 添加block\n   */\n  const handleAddBlock = useCallback(() => {\n    toggleAddition(true);\n    setEditData({\n      id: uuid(),\n      title: '',\n      buttons: [],\n      layout: {\n        w: 2,\n        h: 8,\n        x: block.layout.x,\n        y: 0,\n      },\n    });\n    toggleEditVisible(true);\n    setEditType('block');\n  }, [block.layout.x]);\n\n  /**\n   * 删除block\n   */\n  const handleDelete = () => {\n    const isBlock = dataToDelete && typeof dataToDelete.url === 'undefined';\n    const isLink = !isBlock || dataToDelete.menu;\n    let path = '';\n\n    if (isLink) {\n      path = `links[${index}].buttons`;\n    } else {\n      path = 'links';\n    }\n\n    setDataToDelete(null);\n    const newSettings = update(path)((items) => items.filter((item) => item.id !== dataToDelete.id))(settings);\n    newSettings.createdAt = new Date().getTime();\n    updateSettings(newSettings);\n    toggleConfirmVisible(false);\n    setTimeout(() => {\n      document.dispatchEvent(new CustomEvent('sync-upload'));\n    }, 1000);\n    updateLayout(newSettings);\n  };\n\n  const handleCloseConfirm = () => {\n    toggleConfirmVisible(false);\n  };\n\n  /**\n   * 添加链接\n   */\n  const handleAddLink = () => {\n    setEditType('link');\n    toggleAddition(true);\n    setEditData({\n      id: uuid(),\n      title: '',\n      url: '',\n      style: 'info',\n    });\n    toggleEditVisible(true);\n  };\n\n  /**\n   * 打开右键菜单时记录link索引\n   * @param {*} index\n   */\n  const handleLinkContextOpen = (index) => {\n    setActiveLinkIndex(index);\n  };\n\n  const blockMenu = [\n    [\n      {\n        key: 1,\n        className: 'menu-item',\n        title: 'Edit',\n        icon: <BiEditAlt style={iconStyle} />,\n        onClick: handleEditBlock,\n      },\n      {\n        key: 2,\n        className: 'menu-item',\n        title: 'Add block',\n        icon: <BiPlusCircle style={iconStyle} />,\n        onClick: handleAddBlock,\n      },\n    ],\n    [\n      {\n        key: 4,\n        className: 'menu-item',\n        title: 'Delete',\n        icon: <BiTrash style={iconStyle} />,\n        onClick: () => {\n          setDataToDelete(block);\n          toggleConfirmVisible(true);\n        },\n      },\n    ],\n  ];\n\n  const linkMenu = [\n    [\n      {\n        key: 2,\n        className: 'menu-item',\n        title: 'Edit',\n        icon: <BiEditAlt style={iconStyle} />,\n        onClick: handleEditLink,\n      },\n      {\n        key: 1,\n        className: 'menu-item',\n        title: 'Insert link after',\n        icon: <BiListPlus style={iconStyle} />,\n        onClick: handleAddLink,\n      },\n    ],\n    [\n      {\n        key: 3,\n        className: 'menu-item',\n        title: 'Delete',\n        icon: <BiTrash style={iconStyle} />,\n        onClick: (e, _, link) => {\n          setDataToDelete(link);\n          toggleConfirmVisible(true);\n        },\n      },\n    ],\n  ];\n\n  const card = (\n    <StyledBlock>\n      <Card>\n        <Card.Header className=\"card-header\" ref={blockHeaderRef}>\n          {title}\n        </Card.Header>\n        <Card.Body className=\"block-content\" ref={blockBodyRef}>\n          {links.length === 0 && editable && (\n            <Button size=\"sm\" className=\"link-btn\" onClick={handleAddLink} variant=\"light\">\n              Add link\n            </Button>\n          )}\n          {links.map((link, linkIndex) => {\n            const { title: buttonTitle, style, url, menu, id, description } = link;\n            const rgb = style && (style.startsWith('#') ? hexToRgb(style) : rgbString2Obj(style));\n            const hsp = rgb\n              ? Math.sqrt(0.299 * (rgb.r * rgb.r) + 0.587 * (rgb.g * rgb.g) + 0.114 * (rgb.b * rgb.b))\n              : 0;\n            const isDark = hsp <= 127.5;\n            const buttonStyle = TYPES.includes(style)\n              ? {}\n              : {\n                  backgroundColor: style,\n                  color: isDark ? '#fff' : '#000',\n                };\n\n            buttonTitle === '本地Plex' && console.log('rgb', buttonTitle, isDark, style);\n\n            if (menu) {\n              const linkItem = (\n                <Dropdown align=\"start\" className=\"link-btn\" onClick={() => onMenuClick(index)}>\n                  <Dropdown.Toggle size=\"sm\" className=\"link-group\" variant={style}>\n                    {buttonTitle}\n                  </Dropdown.Toggle>\n\n                  <Dropdown.Menu>\n                    {menu.map(({ title: menuTitle, url: menuUrl }) => {\n                      return (\n                        <Dropdown.Item size=\"sm\" key={menuUrl} href={menuUrl}>\n                          {menuTitle}\n                        </Dropdown.Item>\n                      );\n                    })}\n                  </Dropdown.Menu>\n                </Dropdown>\n              );\n\n              return editable ? (\n                <ContextMenu\n                  // key={id}\n                  data={link}\n                  menu={linkMenu}\n                  onOpen={() => handleLinkContextOpen(linkIndex)}\n                >\n                  {linkItem}\n                </ContextMenu>\n              ) : (\n                linkItem\n              );\n            }\n\n            const button = (\n              <Button\n                as=\"a\"\n                href={url}\n                size=\"sm\"\n                date-url={url}\n                className=\"link-btn\"\n                variant={TYPES.includes(style) ? style : 'light'}\n                style={buttonStyle}\n              >\n                {buttonTitle}\n              </Button>\n            );\n\n            if (editable) {\n              return (\n                <ContextMenu\n                  // key={id}\n                  data={link}\n                  menu={linkMenu}\n                  onOpen={() => handleLinkContextOpen(linkIndex)}\n                >\n                  {button}\n                </ContextMenu>\n              );\n            }\n\n            return (\n              <OverlayTrigger\n                placement=\"top\"\n                show={typeof description === 'undefined' ? false : undefined}\n                overlay={<Tooltip>{description}</Tooltip>}\n              >\n                {button}\n              </OverlayTrigger>\n            );\n          })}\n        </Card.Body>\n      </Card>\n    </StyledBlock>\n  );\n\n  if (editable) {\n    return (\n      <>\n        <ContextMenu menu={blockMenu}>{card}</ContextMenu>\n        <EditModal\n          visible={editVisible}\n          onClose={() => toggleEditVisible(false)}\n          onChange={handleOnChange}\n          onSave={handleSave}\n          type={editType}\n          data={editData}\n        />\n        <Confirm\n          title={dataToDelete ? dataToDelete.title : ''}\n          onClose={handleCloseConfirm}\n          visible={confirmVisible}\n          onConfirm={handleDelete}\n        />\n      </>\n    );\n  }\n\n  return card;\n}\n","import React, { useState, useCallback, useContext } from 'react';\nimport styled from 'styled-components';\nimport { BiEditAlt, BiCog, BiCheck, BiSync, BiImport, BiExport } from 'react-icons/bi';\nimport '@reach/dialog/styles.css';\nimport { Menu, MenuList, MenuButton, MenuItem } from '@reach/menu-button';\nimport { Button, Form, ListGroup, Col, Row, Badge, Toast, ToastContainer, Card } from 'react-bootstrap';\nimport { omit } from 'lodash/fp';\n\nimport IconText from '../IconText';\nimport OAuth from '../OAuth';\nimport { buttonStyle } from '../IconButton';\nimport SettingsContext from '../../context/settings.context';\nimport Modal from '../Modal';\n\nconst StyledHeader = styled.div`\n  position: absolute;\n  display: flex;\n  top: 16px;\n  right: 16px;\n  z-index: 2;\n`;\n\nconst StyledMenuButton = (props) => <MenuButton {...props} css={buttonStyle} />;\n\nconst Menus = styled(MenuList)`\n  background-color: #fff;\n  padding: 8px 0;\n  border-radius: 3px;\n  box-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px, rgb(15 15 15 / 10%) 0px 3px 6px, rgb(15 15 15 / 20%) 0px 9px 24px;\n`;\n\nconst StyledMenuItem = styled(MenuItem)`\n  cursor: pointer;\n  padding: 4px 16px;\n  transition: all 0.2s;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n  }\n`;\n\nfunction download(url, name) {\n  const link = document.createElement('a');\n  link.setAttribute('download', name);\n  link.href = url;\n  document.body.appendChild(link);\n  link.click();\n  link.remove();\n}\n\nexport default function Header({ onEdit, editable }) {\n  const { settings, updateSettings } = useContext(SettingsContext);\n  const [oauthVisible, setOauthVisible] = useState(false);\n  const [importVisible, setImportVisible] = useState(false);\n  const [toImport, setToImport] = useState(null);\n\n  const handleOpenSyncing = () => {\n    setOauthVisible(true);\n  };\n  const handleCloseSyncing = () => {\n    setOauthVisible(false);\n  };\n\n  const handleExport = useCallback(() => {\n    download(\n      'data:application/json;charset=UTF-8,' + encodeURIComponent(JSON.stringify(settings)),\n      'candi-tab-settings.json',\n    );\n  }, [settings]);\n\n  const handleOpenImport = useCallback(() => {\n    setImportVisible(true);\n  }, []);\n\n  const handleFileOnload = useCallback((e) => {\n    const { files } = e.target;\n    if (files.length) {\n      const file = files.item(0);\n      const reader = new FileReader();\n      reader.readAsText(file);\n      reader.onload = () => {\n        let toImport;\n        try {\n          toImport = JSON.parse(reader.result);\n        } catch (e) {\n          // return window.alert(file.name + \" doesn't seem to be a valid JSON file.\");\n        }\n\n        setToImport(toImport);\n      };\n    }\n  }, []);\n\n  const handleSaveImport = useCallback(() => {\n    updateSettings({\n      ...omit(['gistId'])(toImport),\n      gistId: settings.gistId,\n      createdAt: Date.now(),\n    });\n    setImportVisible(false);\n  }, [updateSettings, toImport, settings]);\n\n  return (\n    <>\n      <StyledHeader>\n        <Menu>\n          <StyledMenuButton onClick={onEdit}>{editable ? <BiCheck /> : <BiEditAlt />}</StyledMenuButton>\n        </Menu>\n        <Menu>\n          <StyledMenuButton>\n            <BiCog />\n          </StyledMenuButton>\n          <Menus>\n            <StyledMenuItem onSelect={handleOpenSyncing}>\n              <IconText text=\"Syncing\">\n                <BiSync />\n              </IconText>\n            </StyledMenuItem>\n            <StyledMenuItem onSelect={handleOpenImport}>\n              <IconText text=\"Import\">\n                <BiImport />\n              </IconText>\n            </StyledMenuItem>\n            <StyledMenuItem onSelect={handleExport}>\n              <IconText text=\"Export\">\n                <BiExport />\n              </IconText>\n            </StyledMenuItem>\n          </Menus>\n        </Menu>\n      </StyledHeader>\n      {oauthVisible && <OAuth visible={oauthVisible} onClose={handleCloseSyncing} />}\n      <Modal visible={importVisible} onClose={() => setImportVisible(false)}>\n        <Form>\n          <Modal.Header>Import setting file</Modal.Header>\n          <Modal.Body>\n            <Form.Group className=\"mb-3\">\n              <Form.Label>Setting file</Form.Label>\n              <Form.Control type=\"file\" onChange={handleFileOnload} />\n            </Form.Group>\n          </Modal.Body>\n          <Modal.Footer>\n            <Form.Group>\n              <Button variant=\"primary\" onClick={handleSaveImport}>\n                Yes\n              </Button>\n            </Form.Group>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n","import styled, { css } from 'styled-components';\n\nexport const buttonStyle = css`\n  box-sizing: content-box;\n  border: 0;\n  display: flex;\n  margin: 4px;\n  padding: 6px;\n  align-items: center;\n  justify-content: center;\n  font-size: 24px;\n  color: #666;\n  width: 24px;\n  height: 24px;\n  cursor: pointer;\n  transition: all .2s;\n  border-radius: 3px;\n  background-color: transparent;\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.1);\n    color: #333;\n  }\n`;\n\nconst IconButton = styled.button(buttonStyle);\n\nexport default IconButton;","import React from 'react';\nimport styled from 'styled-components';\n\nconst Wrap = styled.span`\n  display: flex;\n  align-items: center;\n`;\n\nconst Text = styled.span`\n  margin-left: 0.5rem;\n`;\n\nconst Icon = styled.span`\n  display: flex;\n  font-size: 18px;\n`;\n\nexport default function IconText({ children, className, text, ...props }) {\n  return (\n    <Wrap className={className} {...props}>\n      <Icon>{children}</Icon>\n      {text && <Text>{text}</Text>}\n    </Wrap>\n  );\n}\n","import React from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { BiX } from 'react-icons/bi';\nimport { Dialog } from '@reach/dialog';\n\nimport '@reach/dialog/styles.css';\n\nimport IconButton from '../IconButton';\n\nconst GlobalStyle = createGlobalStyle`\n  [data-reach-dialog-overlay] {\n    z-index: 2;\n  }\n`;\n\nconst StyledModal = styled(Dialog)`\n  position: relative;\n  border-radius: 3px;\n  box-shadow: rgb(15 15 15 / 5%) 0px 0px 0px 1px, rgb(15 15 15 / 10%) 0px 3px 6px, rgb(15 15 15 / 20%) 0px 9px 24px;\n`;\n\nconst CloseButton = styled(IconButton)`\n  position: absolute;\n  z-index: 9;\n  top: 16px;\n  right: 16px;\n`;\n\nexport default function Modal({ visible, onClose, children }) {\n  return (\n    <StyledModal isOpen={visible} onDismiss={onClose}>\n      <CloseButton onClick={onClose}>\n        <BiX />\n      </CloseButton>\n      {visible && children}\n      <GlobalStyle />\n    </StyledModal>\n  );\n}\n\nModal.Header = function ModalHeader({ children }) {\n  return <h3 style={{ overflowWrap: 'break-word' }}>{children}</h3>;\n};\n\nModal.Body = function ModalBody({ children, className }) {\n  return <div className={className}>{children}</div>;\n};\n\nconst StyledFooter = styled.div`\n  display: flex;\n  justify-content: flex-end;\n\n  & > * {\n    margin-right: 16px;\n    &:last-child {\n      margin-right: 0;\n    }\n  }\n`;\n\nModal.Footer = function ModalFooter({ children }) {\n  return <StyledFooter>{children}</StyledFooter>;\n};\n","import styled from 'styled-components';\n\nconst StyledWrap = styled.div`\n  .oauth-modal-content {\n    padding: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n  }\n\n  .oauth-form {\n    width: 100%;\n  }\n`;\n\nexport default StyledWrap;\n","import { Button, Form, ListGroup, Col, Row, Badge, Toast, Alert, Card } from 'react-bootstrap';\nimport React, { useCallback, useContext, useEffect, useRef, useState } from 'react';\nimport { set, get, map } from 'lodash/fp';\nimport styled from 'styled-components';\nimport { useQuery, useMutation, useQueryClient, QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport _ from 'lodash';\nimport BarLoader from 'react-spinners/BarLoader';\nimport { v4 as uuid4 } from 'uuid';\n\nimport Modal from '../Modal';\nimport SettingsContext from '../../context/settings.context';\nimport * as gistService from '../../service/gist';\nimport * as candiService from '../../service/candi';\nimport parseGistContent from '../../utils/parseGistContent';\nimport StyledWrap from './OAuthStyle';\n\nconst SpinnerStyle = styled.div`\n  width: 100%;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst spinner = (\n  <SpinnerStyle>\n    <BarLoader />\n  </SpinnerStyle>\n);\n\nconst uuid = uuid4();\nconst OAUTH_URL = `https://github.com/login/oauth/authorize?scope=gist&client_id=9f776027a79806fc1363&redirect_uri=https://candi-tab.vercel.app/api/github?uuid=${uuid}`;\n\nexport default function OAuth({ visible, onClose }) {\n  const { settings, updateSettings, accessToken, updateAccessToken } = useContext(SettingsContext);\n  const [tokenValue, setTokenValue] = useState(accessToken);\n  const queryClient = useQueryClient();\n\n  useEffect(() => {\n    setTokenValue(accessToken);\n  }, [accessToken]);\n\n  const handleOnChange = (e) => {\n    setTokenValue(e.target.value);\n  };\n\n  const handleSave = useCallback(() => {\n    updateAccessToken(tokenValue);\n  }, [tokenValue, updateAccessToken]);\n\n  /**\n   * 开始授权时，创建轮询，直到获取到token\n   */\n  const [isStartFetchToken, toggleStartFetchToken] = useState(false);\n  const handleOauthStart = useCallback(() => {\n    toggleStartFetchToken(true);\n  }, []);\n  // const queryToken = useQuery(['access-token', uuid], candiService.fetchToken, {\n  //   enabled: isStartFetchToken,\n  //   retry: 10,\n  //   onSuccess: (data) => {\n  //     toggleStartFetchToken(false);\n  //   },\n  // });\n\n  const createTokenNode = accessToken ? null : (\n    <Button variant=\"link\" style={{ width: '100%' }} href={OAUTH_URL} onClick={handleOauthStart} target=\"_blank\">\n      Create Access Token with github OAuth\n    </Button>\n  );\n\n  const handleCreateGist = useCallback(() => {\n    createMutation.mutate(settings);\n  }, [createMutation, settings]);\n\n  const gistId = useRef(_.get(settings, `gistId`));\n\n  const queryOne = useQuery(['gist', gistId.current], gistService.fetchOne, {\n    initialData: settings.gist,\n    enabled: !!gistId.current && !!accessToken,\n    initialData: null,\n  });\n\n  const handleClose = useCallback(() => {\n    onClose();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [queryOne.data, onClose, settings]);\n\n  const createMutation = useMutation(gistService.create, {\n    onSuccess: (...args) => {\n      queryClient.invalidateQueries('gist');\n      toggleGistsModalVisible(true);\n    },\n    enabled: !!accessToken,\n  });\n\n  const filename = _.chain(queryOne.data).get(`data.files`).keys().head().value();\n\n  const gistNode = (\n    <Form.Group className=\"mb-3\">\n      {queryOne.isFetching\n        ? spinner\n        : !_.isEmpty(queryOne.data) && (\n            <Card border=\"primary\">\n              <Card.Header>{filename}</Card.Header>\n              <Card.Body>\n                {_.get(queryOne.data, 'data.description')}\n                <br />\n                <Badge bg=\"secondary\">@{_.get(queryOne.data, 'data.created_at')}</Badge>\n              </Card.Body>\n            </Card>\n          )}\n    </Form.Group>\n  );\n\n  const [gistsModalVisible, toggleGistsModalVisible] = useState(false);\n  const [selectedGist, setGist] = useState(null);\n  const handleOpenGists = useCallback(() => {\n    toggleGistsModalVisible(true);\n  }, [toggleGistsModalVisible]);\n  const queryList = useQuery(['gists'], gistService.fetchAll, {\n    enabled: gistsModalVisible && !!accessToken,\n    cacheTime: 0,\n    initialData: [],\n  });\n  const handleSelectGist = useCallback((gist) => {\n    gistId.current = gist.id;\n    setGist(gist);\n  }, []);\n  const handleSaveGist = useCallback(() => {\n    if (queryOne.data?.data) {\n      updateSettings({\n        ...settings,\n        ...parseGistContent(queryOne.data.data),\n        gistId: selectedGist.id,\n      });\n    } else {\n      updateSettings({\n        ...settings,\n        gistId: selectedGist.id,\n      });\n    }\n\n    toggleGistsModalVisible(false);\n  }, [queryOne.data?.data, selectedGist?.id, settings, updateSettings]);\n\n  return (\n    <StyledWrap>\n      <Modal visible={visible} onClose={handleClose}>\n        <Modal.Header>Syncing with github gist</Modal.Header>\n        <Modal.Body className=\"oauth-modal-content\">\n          <Form\n            className=\"oauth-form\"\n            onSubmit={(e) => {\n              e.preventDefault();\n              return;\n            }}\n          >\n            <Form.Group className=\"mb-3\">{createTokenNode}</Form.Group>\n\n            <Form.Group className=\"mb-3\">\n              <Form.Control\n                type=\"input\"\n                placeholder=\"Paste Access Token here.\"\n                autoFocus\n                onBlur={handleSave}\n                onKeyDown={(e) => {\n                  if (e.which === 13) {\n                    e.preventDefault();\n                    handleSave();\n                  }\n                }}\n                onChange={handleOnChange}\n                value={tokenValue}\n              />\n            </Form.Group>\n            {accessToken && gistNode}\n            {accessToken && !queryOne.isFetching && (\n              <Form.Group className=\"mb-3\" controlId=\"url\">\n                <Row>\n                  <Col>\n                    <Button\n                      style={{ width: '100%' }}\n                      disabled={createMutation.isFetching}\n                      variant=\"primary\"\n                      onClick={handleCreateGist}\n                    >\n                      Create a new gist\n                    </Button>\n                  </Col>\n                  <Col>\n                    <Button style={{ width: '100%' }} variant=\"secondary\" onClick={handleOpenGists}>\n                      Select an existing gist.\n                    </Button>\n                  </Col>\n                </Row>\n              </Form.Group>\n            )}\n          </Form>\n        </Modal.Body>\n      </Modal>\n      <Modal visible={gistsModalVisible} onClose={() => toggleGistsModalVisible(false)}>\n        <Modal.Header>Select a gist from your gists</Modal.Header>\n        <Modal.Body>\n          {queryList.isFetching && spinner}\n          {!queryList.isFetching && (\n            <ListGroup style={{ margin: '16px 0' }}>\n              {_.chain(queryList)\n                .get('data.data')\n                .map((item) => (\n                  <ListGroup.Item\n                    style={{ cursor: 'pointer' }}\n                    key={item.id}\n                    variant={settings.gistId === item.id ? 'primary' : null}\n                    onClick={() => handleSelectGist(item)}\n                    active={selectedGist && selectedGist.id === item.id}\n                  >\n                    {item.description}\n                    <br />\n                    {_.chain(item.files)\n                      .keys()\n                      .map((filename) => (\n                        <>\n                          <Badge key={filename} bg=\"primary\">\n                            {filename}\n                          </Badge>\n                          <br />\n                        </>\n                      ))\n                      .value()}\n                    <br />\n                    <Badge bg=\"secondary\">@{item.created_at}</Badge> <Badge bg=\"info\">@{item.updated_at}</Badge>\n                  </ListGroup.Item>\n                ))\n                .value()}\n            </ListGroup>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          {!queryList.isFetching && (\n            <Button variant=\"primary\" onClick={handleSaveGist}>\n              Yes\n            </Button>\n          )}\n        </Modal.Footer>\n      </Modal>\n    </StyledWrap>\n  );\n}\n","export function fetchToken({ queryKey }) {\n  const [, uuid] = queryKey;\n  return fetch('https://candi-tab.vercel.app/api/token?uuid=' + uuid);\n}\n","let octokit;\n\nexport function setOctokit(instance) {\n  octokit = instance;\n}\n\nexport function destroyOctokit() {\n  octokit = null;\n}\n\nexport function fetchAll() {\n  if (!octokit) {\n    return;\n  }\n\n  return octokit.rest.gists.list();\n}\n\nexport function fetchOne({ queryKey }) {\n  if (!octokit) {\n    return;\n  }\n\n  const [, gist_id] = queryKey;\n\n  return octokit.rest.gists.get({\n    gist_id,\n  });\n}\n\nexport function create(payload) {\n  octokit.rest.gists.create({\n    public: false,\n    description: 'A gist for settings syncing of candi-tab chrome extension',\n    files: {\n      'candi_tab_settings.json': {\n        content: JSON.stringify(payload),\n      },\n    },\n  });\n}\n\nexport function updateGist(payload) {\n  if (!octokit) {\n    return;\n  }\n\n  return octokit.rest.gists.update(payload);\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nconst mountNode = document.getElementById('app');\nconst root = createRoot(mountNode);\nroot.render(<App />);\n","export function uuid () {\n  return `_${Math.random().toString(36).substr(2, 9)}`;\n}","import _ from 'lodash';\n\nimport { FILE_NAME } from '../constant';\n\nexport default function (data) {\n  const content = _.get(data, ['files', FILE_NAME, 'content']);\n  let result;\n  try {\n    result = JSON.parse(content);\n  } catch (err) {\n    console.warn(err);\n  }\n\n  return result;\n}\n"],"names":["queryClient","QueryClient","Grid","styled","GridLayout","App","useContext","SettingsContext","settings","updateSettings","useState","editable","toggleEditable","activeBlockIndex","setActiveBlockIndex","layouts","_","get","map","item","layout","value","firstBlock","setFirstBlockData","fistBlockVisible","toggleFirstBlockVisible","handleLayoutChange","useCallback","Date","now","window","initialTime","console","log","newLinks","links","index","newSettings","createdAt","getTime","setTimeout","document","dispatchEvent","CustomEvent","handleSetActiveBlockIndex","handleCreateFirstBlock","id","uuid","title","buttons","w","h","x","y","handleSaveFirstBlock","set","handleBlockChange","field","className","key","classNames","blockActive","block","onMenuClick","onEdit","length","draggableHandle","isResizable","isDraggable","isDroppable","onLayoutChange","cols","rowHeight","width","margin","resizeHandles","style","display","alignItems","justifyContent","height","size","onClick","data","onChange","onSave","type","visible","onClose","withOauth","Comp","props","useStorage","accessToken","setAccessToken","useSettings","gistId","useEffect","useMemo","updateAccessToken","gistService","Octokit","auth","updateMutation","useMutation","enabled","successToastVisible","toggleSuccessToastVisible","errorToastVisible","toggleErrorToastVisible","isSuccess","isError","queryOne","useQuery","initialData","settingsContent","parseGistContent","handleUploadGist","mutate","gist_id","public","description","GIST_DESCRIPTION","files","FILE_NAME","content","JSON","stringify","status","addEventListener","removeEventListener","toastStyle","position","color","right","bottom","containerPosition","autohide","show","isLoading","bg","delay","closeButton","error","message","withQuery","Component","QueryClientProvider","client","initialIsOpen","hot","StyledApp","TYPES","UPLOAD_EVENT","DOWNLOAD_EVENT","createContext","GlobalStyle","createGlobalStyle","save","load","isChrome","chrome","storage","Promise","resolve","reject","local","store","parse","localStorage","getItem","err","payload","setItem","defaultSettings","require","setIds","update","blocks","extra","mapLink","link","withId","setSettings","then","result","_value","setValue","warn","undefined","StyledBlock","StyledBody","StylePicker","handleChangeStyle","target","defaultActiveKey","eventKey","variant","defaultValue","LinkForm","menu","isMenu","toggleIsMenu","handleOnChange","e","handleDeleteMenu","compose","fpGet","items","filter","handleSubmit","preventDefault","popover","buttonStyle","backgroundColor","onSubmit","controlId","placeholder","autoFocus","checked","url","pick","label","trigger","placement","overlay","text","concat","as","rows","BlockForm","FormSet","Link","Block","EditModal","EditForm","upperFirst","iconStyle","fontSize","hexToRgb","hex","exec","r","parseInt","g","b","rgbString2Obj","rgb","replace","split","Confirm","onConfirm","blockStyle","blockPadding","linkMargin","blockMargin","editVisible","toggleEditVisible","editType","setEditType","editData","setEditData","activeLinkIndex","setActiveLinkIndex","isAddition","toggleAddition","confirmVisible","toggleConfirmVisible","dataToDelete","setDataToDelete","blockBodyRef","useRef","blockHeaderRef","handleAddBlock","updateLayout","inputSettings","current","headerHeight","offsetHeight","linkSize","childNodes","linkHeight","reduce","memo","cur","blockItem","handleAddLink","handleLinkContextOpen","blockMenu","icon","linkMenu","card","ref","linkIndex","buttonTitle","startsWith","isDark","Math","sqrt","linkItem","align","menuTitle","menuUrl","href","onOpen","button","splice","path","StyledHeader","StyledMenuButton","Menus","MenuList","StyledMenuItem","MenuItem","download","name","createElement","setAttribute","body","appendChild","click","remove","Header","oauthVisible","setOauthVisible","importVisible","setImportVisible","toImport","setToImport","handleExport","encodeURIComponent","handleOpenImport","handleFileOnload","file","reader","FileReader","readAsText","onload","handleSaveImport","omit","onSelect","css","IconButton","Wrap","Text","Icon","IconText","children","StyledModal","Dialog","CloseButton","Modal","isOpen","onDismiss","overflowWrap","Body","StyledFooter","Footer","StyledWrap","SpinnerStyle","spinner","uuid4","OAUTH_URL","OAuth","tokenValue","setTokenValue","useQueryClient","handleSave","toggleStartFetchToken","handleOauthStart","createTokenNode","handleCreateGist","createMutation","gist","handleClose","onSuccess","invalidateQueries","toggleGistsModalVisible","filename","keys","head","gistNode","isFetching","border","gistsModalVisible","selectedGist","setGist","handleOpenGists","queryList","cacheTime","handleSelectGist","handleSaveGist","onBlur","onKeyDown","which","disabled","cursor","active","created_at","updated_at","queryKey","fetch","fetchToken","octokit","setOctokit","instance","destroyOctokit","fetchAll","rest","gists","list","fetchOne","create","updateGist","mountNode","getElementById","root","createRoot","render","random","toString","substr"],"sourceRoot":""}